<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backyard Rabbitry Guide - SA</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?display=swap&family=Epilogue:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' fill='%231c180d'%3E%3Cpath d='M24 6C16.268 6 10 11.268 10 18C10 22.484 12.48 26.48 16.32 28.96C15.28 30.92 14.48 33.08 14 35.36C13.84 36.2 14.48 37 15.36 37.08C17.84 37.32 20.2 36.84 22.28 35.92C22.84 35.96 23.4 36 24 36C24.6 36 25.16 35.96 25.72 35.92C27.8 36.84 30.16 37.32 32.64 37.08C33.52 37 34.16 36.2 34 35.36C33.52 33.08 32.72 30.92 31.68 28.96C35.52 26.48 38 22.484 38 18C38 11.268 31.732 6 24 6ZM20 18C20 17.448 20.448 17 21 17C21.552 17 22 17.448 22 18C22 18.552 21.552 19 21 19C20.448 19 20 18.552 20 18ZM28 18C28 17.448 28.448 17 29 17C29.552 17 30 17.448 30 18C30 18.552 29.552 19 29 19C28.448 19 28 18.552 28 18Z'/%3E%3C/svg%3E">


    <style>
        :root {
            --bg-main: #fcfbf8;
            --text-dark: #1c180d;
            --text-muted: #9e8747;
            --accent-primary: #fac638; /* Yellow */
            --accent-secondary: #f4f0e6; /* Light beige for secondary buttons/borders */
            --border-color: #f4f0e6;
            --nav-height: 68px; /* Adjusted for potentially taller header elements */
            --success: #38A169; 
            --warning: #DD6B20;
        }

        body {
            font-family: 'Epilogue', 'Noto Sans', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-dark);
            overflow: hidden; /* CRITICAL: Prevent body scroll */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        h1,h2,h3,h4,h5 { font-family: 'Epilogue', sans-serif; color: var(--text-dark); }
        h1 { font-size: 2.8rem; font-weight: 900; line-height: 1.2; } /* From new design */
        h2 { font-size: 1.75rem; font-weight: 700; margin-bottom: 1.5rem; padding-bottom: 0.75rem; border-bottom: 2px solid var(--accent-secondary); } /* Adjusted size */
        h3 { font-size: 1.3rem; font-weight: 700; margin-top: 1.5rem; margin-bottom: 1rem; color: var(--text-dark); }
        h4 { font-size: 1.1rem; font-weight: 500; margin-top: 1rem; margin-bottom: 0.5rem; color: var(--text-muted); }

        .nav-container {
            background-color: var(--bg-main);
            border-bottom: 1px solid var(--border-color);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            height: auto; /* Allow height to adjust for content */
            min-height: var(--nav-height);
            padding: 0.75rem 0; /* py-3 equivalent */
        }
        .nav-header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 1rem; /* px-4 */
        }
        @media (min-width: 1024px) { /* lg breakpoint */
            .nav-header-content { padding: 0 2.5rem; } /* px-10 for lg */
        }

        .nav-logo-title { display: flex; align-items: center; gap: 0.75rem; /* gap-3 */ }
        .nav-logo-title h2 { 
            font-size: 1.125rem; /* text-lg */
            font-weight: 700; /* font-bold */
            line-height: 1.25; /* leading-tight */
            letter-spacing: -0.015em;
            border-bottom: none; margin-bottom: 0; /* Override default h2 style */
        }
        
        .nav-actions { display: flex; align-items: center; gap: 0.5rem; /* gap-2 */ }
        .nav-action-button {
            display: flex;
            cursor: pointer;
            align-items: center;
            justify-content: center;
            border-radius: 0.75rem; /* rounded-xl */
            height: 2.5rem; /* h-10 */
            width: 2.5rem; /* For square icon buttons */
            background-color: var(--accent-secondary);
            color: var(--text-dark);
            transition: background-color 0.2s ease;
        }
        .nav-action-button:hover { background-color: #e0dacf; /* Darker beige */ }
        .nav-profile-img {
            width: 2.5rem; /* size-10 */
            height: 2.5rem; /* size-10 */
            border-radius: 9999px; /* rounded-full */
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        .nav-scrollable-tabs {
            display: flex;
            overflow-x: auto;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            padding: 0.5rem 1rem; /* Add some padding around tabs */
            border-top: 1px solid var(--border-color); /* Separator */
            margin-top: 0.5rem;
        }
        .nav-scrollable-tabs::-webkit-scrollbar { display: none; }

        .tab-button {
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            color: var(--text-muted);
            padding: 0.5rem 0.75rem; 
            font-size: 0.875rem; /* text-sm */
            font-weight: 500; /* font-medium */
            white-space: nowrap;
            flex-shrink: 0;
        }
        .tab-button.active { color: var(--text-dark); border-bottom-color: var(--accent-primary); font-weight: 700; }
        .tab-button:hover:not(.active) { color: var(--text-dark); border-bottom-color: var(--accent-secondary); }
        
        .main-scroll-container-wrapper {
            flex-grow: 1;
            overflow: hidden;
            margin-top: calc(var(--nav-height) + 45px); /* Approximate height of new header + tabs */
        }
        .main-scroll-container {
            display: flex;
            width: 1200%; /* 12 sections * 100% */
            height: 100%;
            transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        .content-section {
            width: 100vw; 
            height: 100%; 
            overflow-y: auto; 
            padding: 1.5rem; /* p-6 */
            box-sizing: border-box;
            background-color: var(--bg-main);
        }
        @media (min-width: 768px) { /* md */
            .content-section { padding: 2.5rem; } /* p-10 for wider screens */
        }
        .content-section::-webkit-scrollbar { width: 8px; }
        .content-section::-webkit-scrollbar-thumb { background-color: var(--accent-secondary); border-radius: 4px; }
        .content-section::-webkit-scrollbar-track { background-color: #f0e9df; }

        .hero-section { /* For the first section */
            display: flex;
            min-height: 400px; /* min-h-[480px] */
            flex-direction: column;
            gap: 1.5rem; /* gap-6 */
            background-size: cover;
            background-position: center;
            border-radius: 0.75rem; /* rounded-xl */
            align-items: center;
            justify-content: center;
            padding: 1rem; /* p-4 */
            text-align: center;
            color: white; /* Text on image overlay */
        }
         .hero-section h1 {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 900; /* font-black */
            line-height: 1.1; /* leading-tight */
            letter-spacing: -0.033em;
            color: white !important; /* Ensure white text on hero */
        }
        .hero-section p {
            font-size: 0.875rem; /* text-sm */
            line-height: 1.5; /* leading-normal */
            color: white !important;
        }
        @media (min-width: 640px) { /* @[480px] equivalent for Tailwind, sm breakpoint */
            .hero-section { gap: 2rem; /* gap-8 */ }
            .hero-section h1 { font-size: 3rem; /* text-5xl */ }
            .hero-section p { font-size: 1rem; /* text-base */ }
        }


        .chart-container {
            position: relative; width: 100%; max-width: 450px; margin: 1.5rem auto;
            height: 220px; background-color: #FFFFFF; padding: 1rem; border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid var(--border-color);
        }
        @media (min-width: 768px) { .chart-container { height: 280px; } }

        .card {
            background-color: #FFFFFF; border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid var(--border-color);
            padding: 1.5rem; margin-bottom: 1.5rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .card:hover { transform: translateY(-3px); box-shadow: 0 8px 16px rgba(28, 24, 13, 0.08); }
        
        .input-field, .select-field {
            width: 100%; padding: 0.75rem 1rem; border: 1px solid var(--border-color);
            border-radius: 0.5rem; /* rounded-lg, slightly less than xl */
            font-size: 0.9rem; background-color: white; color: var(--text-dark);
        }
        .input-field:focus, .select-field:focus {
            border-color: var(--accent-primary); box-shadow: 0 0 0 2px rgba(250, 198, 56, 0.3); outline: none;
        }
        .label-text { font-weight: 500; margin-bottom: 0.5rem; display: block; color: var(--text-dark); font-size: 0.9rem; }
        
        .btn {
            padding: 0.6rem 1.25rem; /* h-10 equivalent with padding */
            border-radius: 0.75rem; /* rounded-xl */
            font-weight: 700; /* font-bold */
            font-size: 0.875rem; /* text-sm */
            transition: all 0.2s ease; display: inline-flex; align-items: center; justify-content: center;
            cursor: pointer;
            letter-spacing: 0.015em;
            text-transform: none; /* New design doesn't uppercase buttons */
        }
        .btn-primary { background-color: var(--accent-primary); color: var(--text-dark); }
        .btn-primary:hover { background-color: #eab308; /* Darker yellow */ transform: translateY(-2px); }
        
        .btn-secondary { background-color: var(--accent-secondary); color: var(--text-dark); border: 1px solid var(--border-color); }
        .btn-secondary:hover { background-color: #e0dacf; transform: translateY(-2px); }

        .expand-button {
            background-color: var(--accent-secondary); color: var(--text-dark); padding: 0.6rem 1rem; border-radius: 0.5rem;
            font-weight: 500; cursor: pointer; display: inline-flex; align-items: center; border: 1px solid var(--border-color);
        }
        .expand-button:hover { background-color: #e0dacf; }
        .expandable-content {
            display: none; margin-top: 1rem; padding: 1rem; background-color: #fff; /* White background for expanded */
            border-radius: 0.5rem; border: 1px solid var(--border-color);
        }
        
        /* Carousel Styles */
        .carousel-container { max-width: 100%; border: 1px solid var(--border-color); border-radius: 0.75rem; padding: 1rem; background-color: white; }
        .carousel-slide img { height: 200px; border-radius: 0.5rem; object-fit: cover; }
        .carousel-caption h4 { font-size: 1rem; color: var(--text-dark); margin-top: 0.5rem; font-weight: 500; }
        .carousel-button {
            background-color: rgba(28, 24, 13, 0.5); /* Darker, semi-transparent */
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px; height: 30px;
            font-size: 16px;
            transition: background-color 0.2s ease;
        }
        .carousel-button:hover { background-color: rgba(28, 24, 13, 0.8); }


        /* Quiz Styles */
        .quiz-category-selector button { margin: 0.3rem; font-size: 0.8rem; padding: 0.5rem 1rem; }
        .quiz-option { font-size: 0.9rem; border: 1px solid var(--border-color); background-color: white; color: var(--text-dark); }
        .quiz-option.selected { border-color: var(--accent-primary); background-color: #fffbeb; /* Light yellow */ } /* Yellow selected */
        #quizArea { background-color: white; border: 1px solid var(--border-color); }

        /* Recipe Card Styles */
        .recipe-card { border: 1px solid var(--border-color); background-color: white; }
        .recipe-card img { height: 160px; border-radius: 0.75rem 0.75rem 0 0; object-fit: cover;}
        .recipe-card-content { padding: 1rem; }
        .recipe-card-content h4 { color: var(--text-dark) !important; font-size: 1.1rem; font-weight: 700; }

        .footer {
            padding: 1.5rem 1rem;
            text-align: center;
            background-color: var(--accent-secondary);
            color: var(--text-muted);
            border-top: 1px solid var(--border-color);
        }
        .footer p { margin: 0.25rem 0; font-size: 0.875rem; }
    </style>
</head>
<body>
    <nav class="nav-container">
        <div class="nav-header-content">
            <div class="nav-logo-title">
                <div class="size-6 text-gray-800"> <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_6_319_new_logo)">
                            <path d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z" fill="currentColor"></path>
                        </g>
                        <defs><clipPath id="clip0_6_319_new_logo"><rect width="48" height="48" fill="white"></rect></clipPath></defs>
                    </svg>
                </div>
                <h2 class="text-[#1c180d]">Backyard Rabbitry Guide</h2>
            </div>
            <div class="nav-actions">
                <button class="nav-action-button" aria-label="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                        <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                    </svg>
                </button>
                <button class="nav-action-button" aria-label="User Profile">
                     <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                        <path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"></path>
                    </svg>
                </button>
                <div class="nav-profile-img" style='background-image: url("https://placehold.co/40x40/f4f0e6/1c180d?text=U");'></div> </div>
        </div>
        <div class="nav-scrollable-tabs">
            <button class="tab-button active" onclick="navigateToSection(0)"><i class="fas fa-rocket mr-1 sm:mr-2"></i>Start</button>
            <button class="tab-button" onclick="navigateToSection(1)"><i class="fas fa-balance-scale mr-1 sm:mr-2"></i>Legal</button>
            <button class="tab-button" onclick="navigateToSection(2)"><i class="fas fa-seedling mr-1 sm:mr-2"></i>Rural Youth EC</button> <button class="tab-button" onclick="navigateToSection(3)"><i class="fas fa-tools mr-1 sm:mr-2"></i>Setup</button>
            <button class="tab-button" onclick="navigateToSection(4)"><i class="fas fa-book-open mr-1 sm:mr-2"></i>Learn</button>
            <button class="tab-button" onclick="navigateToSection(5)"><i class="fas fa-coins mr-1 sm:mr-2"></i>Budget</button>
            <button class="tab-button" onclick="navigateToSection(6)"><i class="fas fa-heartbeat mr-1 sm:mr-2"></i>Care</button>
            <button class="tab-button" onclick="navigateToSection(7)"><i class="fas fa-utensils mr-1 sm:mr-2"></i>Harvest</button>
            <button class="tab-button" onclick="navigateToSection(8)"><i class="fas fa-calendar-alt mr-1 sm:mr-2"></i>Sim</button>
            <button class="tab-button" onclick="navigateToSection(9)"><i class="fas fa-puzzle-piece mr-1 sm:mr-2"></i>Quiz</button>
            <button class="tab-button" onclick="navigateToSection(10)"><i class="fas fa-drumstick-bite mr-1 sm:mr-2"></i>Recipes</button>
            <button class="tab-button" onclick="navigateToSection(11)"><i class="fas fa-link mr-1 sm:mr-2"></i>Links</button>
        </div>
    </nav>
    
    <div class="main-scroll-container-wrapper">
        <div id="mainScrollContainer" class="main-scroll-container">
            <section id="gettingStarted" class="content-section">
                <div class="hero-section" style='background-image: linear-gradient(rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.5) 100%), url("https://placehold.co/1200x500/fac638/1c180d?text=Rabbit+Adventure!");'>
                    <h1>Welcome to Your Backyard Rabbitry Adventure</h1>
                    <p>Discover the joys of raising rabbits with our comprehensive guide. Learn everything from basic care to advanced techniques, tailored for South African families.</p>
                    <button class="btn btn-primary mt-4" onclick="navigateToSection(3)"> <span class="truncate">Start Learning</span> <i class="fas fa-arrow-right ml-2"></i>
                    </button>
                </div>
                <h2 class="mt-8">Why Start Your Rabbitry Journey?</h2>
                <p class="mb-6 text-lg text-gray-700">This guide helps you understand the wonderful benefits of raising rabbits for your family, why they're a great choice for beginners, and how to get everyone in the family excited and involved. Let's hop to it! 🐇</p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="card">
                        <h3><i class="fas fa-apple-alt mr-2" style="color: var(--warning)"></i>The Joy of Raising Your Own Food</h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-2 pl-4 mt-2">
                            <li>Forge a deeper connection with your family's food source.</li>
                            <li>Ensure the quality and origin of the meat you consume.</li>
                            <li>Teach valuable lessons about responsibility and nature.</li>
                            <li>Enjoy fresh, healthy protein right from your backyard.</li>
                        </ul>
                    </div>
                    <div class="card">
                        <h3><i class="fas fa-graduation-cap mr-2" style="color: var(--accent-primary)"></i>Why Rabbits? A Great Choice</h3>
                         <ul class="list-disc list-inside text-gray-700 space-y-2 pl-4 mt-2">
                            <li>Quiet, docile, and relatively odorless compared to other livestock.</li>
                            <li>Modest space requirements, suitable for smaller properties.</li>
                            <li>Efficient feed converters, producing more meat per kg of feed.</li>
                            <li>Quick reproduction cycle, leading to faster results.</li>
                            <li>Manure is an excellent "cold" fertilizer for gardens.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="legalLocal" class="content-section">
                <h2><i class="fas fa-gavel mr-2 text-gray-600"></i>Legal Lowdown: Rabbit Farming Bylaws</h2>
                <p class="mb-6 text-lg text-gray-700">Understanding local regulations is key. Select your province for specific guidance. <strong class="text-red-600">Always verify with your local municipality as bylaws can change.</strong></p>
                <div class="province-selector-container card">
                    <label for="provinceSelector" class="label-text !text-xl">Select Your Province:</label>
                    <select id="provinceSelector" class="select-field text-lg p-3" onchange="showProvinceBylaws()">
                        <option value="">-- Select Province --</option>
                        <option value="GP">Gauteng</option>
                        <option value="WC">Western Cape</option>
                        <option value="EC">Eastern Cape</option>
                        <option value="KZN">KwaZulu-Natal</option>
                        <option value="LP">Limpopo</option>
                        <option value="MP">Mpumalanga</option>
                        <option value="NW">North West</option>
                        <option value="FS">Free State</option>
                        <option value="NC">Northern Cape</option>
                    </select>
                </div>
                <div id="provinceBylawDetails" class="province-details mt-6" style="display: none;"></div>
                <div id="gautengBylawContent" style="display:none;"> <div class="card"><h3><i class="fas fa-map-marker-alt mr-2"></i>Gauteng (e.g., Johannesburg)</h3><p class="text-lg">Typically, you can keep a small number of rabbits (e.g., <strong>up to 5 adult rabbits in Johannesburg</strong>) without a permit for household purposes. Larger numbers or commercial operations will require permits and adherence to specific zoning and animal keeping bylaws. Check with your specific local municipality (e.g., City of Johannesburg, Tshwane, Ekurhuleni).</p></div> </div>
                <div id="westernCapeBylawContent" style="display:none;"><div class="card"><h3><i class="fas fa-map-marker-alt mr-2"></i>Western Cape</h3><p class="text-lg">Bylaws vary significantly between municipalities (e.g., City of Cape Town, Stellenbosch, Drakenstein). Contact your local municipality's Environmental Health department for detailed rules on numbers, permits, hutch specifications, and waste disposal.</p></div></div>
                <div id="easternCapeBylawContent" style="display:none;"><div class="card"><h3><i class="fas fa-map-marker-alt mr-2"></i>Eastern Cape</h3><p class="text-lg">Regulations are set by local municipalities (e.g., Buffalo City, Nelson Mandela Bay, OR Tambo District). It's crucial to consult your local Environmental Health Practitioner for specifics on rabbit keeping.</p></div></div>
            </section>

            <section id="ruralYouthEC" class="content-section">
                <h2><i class="fas fa-users mr-2" style="color: var(--success)"></i>Rabbit Farming: A Path for Eastern Cape Youth</h2>
                <p class="mb-4 text-lg text-gray-700">This section is dedicated to the vibrant youth of the Eastern Cape, particularly in areas like Willowvale and Idutywa. Rabbit farming offers a fantastic opportunity to access a sustainable and affordable source of protein, develop entrepreneurial skills, and contribute to local food security.</p>
                
                <div class="card mb-6">
                    <h3 class="!text-xl"><i class="fas fa-leaf mr-2" style="color:var(--success)"></i>Why Rabbits Thrive in the Eastern Cape</h3>
                    <ul class="list-disc list-inside text-gray-700 space-y-2 pl-4 mt-2">
                        <li><strong>Adaptable Climate:</strong> Many rabbit breeds are well-suited to the diverse temperatures found in the Eastern Cape. With proper shelter, they can manage both warmer and cooler conditions.</li>
                        <li><strong>Resourcefulness:</strong> Rabbits can be fed a varied diet, including locally available grasses, legumes, and safe vegetable scraps, reducing reliance on expensive commercial feeds.</li>
                        <li><strong>Space Efficiency:</strong> Rabbitries don't require vast amounts of land, making them feasible for backyard setups on existing family plots.</li>
                        <li><strong>Quick Returns:</strong> The rapid growth and reproduction cycle means a quicker path to harvesting protein or selling surplus stock.</li>
                    </ul>
                </div>

                <h3 class="!text-xl mt-8 mb-4">Interactive Guide: Sharing the Idea</h3>
                <p class="mb-6 text-gray-700">Starting a rabbitry is often a family or community effort. Use this interactive guide to help you introduce the idea in a way that resonates with your audience.</p>
                
                <div class="grid md:grid-cols-2 gap-6 card p-6">
                    <div>
                        <label for="introducerRole" class="label-text">Who is introducing the idea?</label>
                        <select id="introducerRole" class="select-field mb-4">
                            <option value="father">A Father/Male Guardian</option>
                            <option value="mother">A Mother/Female Guardian</option>
                            <option value="son_highschool">A Son (High School)</option>
                            <option value="daughter_highschool">A Daughter (High School)</option>
                            <option value="child_primary">A Child (Primary School)</option>
                            <option value="community_leader">A Community Member/Leader</option>
                        </select>
                    </div>
                    <div>
                        <label for="audienceGroup" class="label-text">Who are you talking to?</label>
                        <select id="audienceGroup" class="select-field mb-4">
                            <option value="family_elders">Family Elders</option>
                            <option value="family_adults">Family Adults (Parents' Age)</option>
                            <option value="family_teens">Teenagers in the Family</option>
                            <option value="family_younger_children">Younger Children (6-10 yrs)</option>
                            <option value="community_group">A Community Group/Meeting</option>
                        </select>
                    </div>
                    <div class="md:col-span-2 text-center">
                        <button class="btn btn-primary mt-2" onclick="generateRuralYouthGuide()">
                            <i class="fas fa-magic mr-2"></i>Get Tailored Talking Points
                        </button>
                    </div>
                </div>

                <div id="ruralYouthGuideOutput" class="mt-6 card p-6" style="display:none;">
                    </div>
            </section>

            <section id="setupBuild" class="content-section">
                 <h2><i class="fas fa-hammer mr-2" style="color: var(--accent-primary)"></i>Building Your Rabbitry: Breeds to Hutches</h2>
                <div class="card">
                    <h3><i class="fas fa-paw mr-2" style="color:var(--text-muted);"></i>Choosing Your Champions: Popular Breeds</h3>
                    <div class="carousel-container mt-4" id="breedCarousel">
                        <div class="carousel-track">
                            <div class="carousel-slide"><img src="https://placehold.co/500x220/fac638/1c180d?text=New+Zealand+White" alt="New Zealand White"><div class="carousel-caption"><h4>🐑 New Zealand White (NZW)</h4><p class="text-xs text-gray-600">Excellent meat production, good mothers.</p></div></div>
                            <div class="carousel-slide"><img src="https://placehold.co/500x220/f4f0e6/1c180d?text=Californian" alt="Californian"><div class="carousel-caption"><h4>🐇 Californian</h4><p class="text-xs text-gray-600">Good meat-to-bone ratio, hardy.</p></div></div>
                            <div class="carousel-slide"><img src="https://placehold.co/500x220/9e8747/fcfbf8?text=SA+Phendula" alt="SA Phendula"><div class="carousel-caption"><h4>🇿🇦 SA Phendula</h4><p class="text-xs text-gray-600">Locally adapted, good for SA conditions.</p></div></div>
                             <div class="carousel-slide"><img src="https://placehold.co/500x220/fac638/1c180d?text=Chinchilla+Giganta" alt="Chinchilla Giganta"><div class="carousel-caption"><h4>🐾 Chinchilla Giganta</h4><p class="text-xs text-gray-600">Large breed, good for meat and fur.</p></div></div>
                        </div>
                        <button class="carousel-button prev" onclick="moveCarousel('breedCarousel', -1)">&#10094;</button>
                        <button class="carousel-button next" onclick="moveCarousel('breedCarousel', 1)">&#10095;</button>
                    </div>
                </div>
                </section>

            <section id="learningHub" class="content-section">
                <h2><i class="fas fa-graduation-cap mr-2" style="color:var(--text-dark);"></i>Learning Hub: Guides, Videos & DIY</h2>
                 <div class="grid md:grid-cols-2 gap-6">
                    <div class="card"><h3><i class="fas fa-book mr-2" style="color:var(--success);"></i>Rabbit Care Guides</h3><p>Detailed guides on feeding, health, and daily management. (Placeholder for expandable content/links)</p></div>
                    <div class="card"><h3><i class="fas fa-video mr-2 text-red-500"></i>Video Tutorials</h3><p>Visual guides on hutch building, handling rabbits, and more. (Placeholder for embedded videos or links)</p></div>
                </div>
            </section>

            <section id="budgetCosts" class="content-section">
                 <h2><i class="fas fa-wallet mr-2" style="color:var(--success);"></i>Budget & Costs: Planning Your Investment</h2>
                <div class="card">
                    <h3><i class="fas fa-calculator mr-2" style="color: var(--warning)"></i>Initial Investment Calculator</h3>
                    <p>(Placeholder for cost calculator elements, styled with new theme)</p>
                    <p class="font-semibold text-lg mt-4">Total Initial Estimate: R <span id="grandTotalInvestment" class="text-xl" style="color:var(--accent-primary)">4450.00</span></p>
                </div>
            </section>

            <section id="careBreeding" class="content-section">
                <h2><i class="fas fa-heart-pulse mr-2 text-red-500"></i>Day-to-Day Rabbit Care and Production</h2>
                 <p>(Key content points will be here, perhaps in accordions or detailed cards, focusing on daily routines, breeding cycles, health checks, etc.)</p>
            </section>

            <section id="harvestKitchen" class="content-section">
                <h2><i class="fas fa-drumstick-bite mr-2" style="color:var(--warning);"></i>From Kit to Kitchen: Harvesting & Nutrition</h2>
                 <div class="grid md:grid-cols-2 gap-6">
                    <div class="card"><h3><i class="fas fa-chart-line mr-2 text-blue-500"></i>Nutritional Value Comparison</h3><div class="chart-container my-4"><canvas id="nutritionalComparisonChart"></canvas></div></div>
                    <div class="card"><h3><i class="fas fa-dollar-sign mr-2" style="color:var(--success);"></i>Homegrown vs. Store-Bought Costs</h3><div class="chart-container my-4"><canvas id="costComparisonChart"></canvas></div></div>
                </div>
            </section>

            <section id="timelineSim" class="content-section">
                <h2><i class="fas fa-cogs mr-2" style="color:var(--text-dark);"></i>Rabbitry Timeline Simulator</h2>
                <div class="card">
                    <h3><i class="fas fa-sliders-h mr-2" style="color:var(--success);"></i>Simulation Setup</h3>
                    <p>(Placeholder for simulation input elements)</p>
                    <button class="btn btn-primary w-full md:w-auto mt-4" onclick="runRabbitrySimulation()"><i class="fas fa-play-circle mr-2"></i>Run Simulation</button>
                </div>
                <div id="simulationOutput" class="mt-6 card">
                    <h4 class="mb-2">Simulation Results:</h4>
                    <p>(Output will appear here)</p>
                </div>
            </section>

            <section id="funQuizzes" class="content-section">
                <h2><i class="fas fa-puzzle-piece mr-2" style="color:var(--accent-primary);"></i>Fun Quizzes: Test Your Rabbit Knowledge!</h2>
                <div id="quizCategorySelector" class="quiz-category-selector mb-6 text-center">
                    <button class="btn btn-secondary m-1" onclick="startQuiz('Rabbit Basics')">Basics</button>
                    <button class="btn btn-secondary m-1" onclick="startQuiz('Breeding & Care')">Care</button>
                    <button class="btn btn-secondary m-1" onclick="startQuiz('Compliance & Legal')">Legal</button>
                    <button class="btn btn-secondary m-1" onclick="startQuiz('Harvest & Recipes')">Harvest</button>
                    <button class="btn btn-secondary m-1" onclick="startQuiz('Fun Facts')">Fun Facts</button>
                </div>
                <div id="quizArea" class="card p-6" style="display:none;">
                    <h3 id="quizCategoryTitle" class="text-center !text-xl mb-6"></h3>
                    <div id="quizQuestionContainer" class="mb-6"></div>
                    <div id="quizNavigation" class="mt-6 flex justify-between">
                        <button class="btn btn-secondary" id="nextQuestionBtn" onclick="nextQuizQuestion()">Next <i class="fas fa-arrow-right ml-2"></i></button>
                        <button class="btn btn-primary" id="submitQuizBtn" style="display:none;" onclick="submitFullQuiz()">Get Results <i class="fas fa-check-circle ml-2"></i></button>
                    </div>
                    <div id="quizResultsArea" class="quiz-feedback mt-6 p-4 rounded-lg" style="display:none;"></div>
                </div>
            </section>

            <section id="recipes" class="content-section">
                <h2><i class="fas fa-utensils mr-2" style="color:var(--warning);"></i>🍳 Delicious Rabbit Recipes</h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="recipe-card"> <img src="https://placehold.co/400x180/fac638/1c180d?text=Roasted+Rabbit" alt="Roasted Rabbit"> <div class="recipe-card-content"><h4>Simple Roasted Rabbit with Herbs</h4> <p class="text-xs text-gray-600">A classic, easy recipe perfect for beginners.</p></div></div>
                    <div class="recipe-card"> <img src="https://placehold.co/400x180/f4f0e6/1c180d?text=Rabbit+Stew" alt="Rabbit Stew"> <div class="recipe-card-content"><h4>Hearty Rabbit & Vegetable Stew</h4> <p class="text-xs text-gray-600">Comfort food at its best, full of flavor.</p></div></div>
                    <div class="recipe-card"> <img src="https://placehold.co/400x180/9e8747/fcfbf8?text=Grilled+Rabbit" alt="Grilled Rabbit"> <div class="recipe-card-content"><h4>Grilled Lemon-Herb Rabbit</h4> <p class="text-xs text-gray-600">A zesty and healthy option for the braai.</p></div></div>
                </div>
            </section>

            <section id="resources" class="content-section">
                <h2><i class="fas fa-link mr-2" style="color:var(--text-muted);"></i>Resources & Links for SA Rabbit Farmers</h2>
                 <p class="mb-4 text-lg">A curated list of resources to support your rabbit farming journey in South Africa. This includes government departments, agricultural organizations, training providers, and more.</p>
                
                <div class="accordion-container space-y-4">
                    <div>
                        <button class="expand-button w-full text-left justify-between" onclick="toggleExpandable(this, 'nationalResources')">
                            National Departments & Organizations <i class="fas fa-chevron-down transition-transform"></i>
                        </button>
                        <div id="nationalResources" class="expandable-content">
                            <ul class="list-disc space-y-2 pl-5">
                                <li><strong>Department of Agriculture, Land Reform and Rural Development (DALRRD):</strong> <a href="https://www.dalrrd.gov.za" target="_blank" class="text-blue-600 hover:underline">www.dalrrd.gov.za</a> - Policy, support programs, and farmer development.</li>
                                <li><strong>Agricultural Research Council (ARC):</strong> <a href="https://www.arc.agric.za" target="_blank" class="text-blue-600 hover:underline">www.arc.agric.za</a> - Research, training, and animal improvement.</li>
                                <li><strong>National Agricultural Marketing Council (NAMC):</strong> <a href="https://www.namc.co.za" target="_blank" class="text-blue-600 hover:underline">www.namc.co.za</a> - Market access and information.</li>
                                <li><strong>SA Rabbit Breeders Society (Placeholder):</strong> (Link to official society if available)</li>
                            </ul>
                        </div>
                    </div>

                    <div>
                        <button class="expand-button w-full text-left justify-between" onclick="toggleExpandable(this, 'provincialResources')">
                            Provincial Agricultural Contacts <i class="fas fa-chevron-down transition-transform"></i>
                        </button>
                        <div id="provincialResources" class="expandable-content">
                            <p>Contact your provincial Department of Agriculture for localized support, training, and veterinary services. (Placeholders - to be populated with links/contacts for each province)</p>
                            <ul class="list-disc space-y-2 pl-5 mt-2">
                                <li>Eastern Cape: (Link/Contact)</li>
                                <li>Free State: (Link/Contact)</li>
                                <li>Gauteng: (Link/Contact)</li>
                                <li>KwaZulu-Natal: (Link/Contact)</li>
                                <li>Limpopo: (Link/Contact)</li>
                                <li>Mpumalanga: (Link/Contact)</li>
                                <li>Northern Cape: (Link/Contact)</li>
                                <li>North West: (Link/Contact)</li>
                                <li>Western Cape: (Link/Contact)</li>
                            </ul>
                        </div>
                    </div>
                     <div>
                        <button class="expand-button w-full text-left justify-between" onclick="toggleExpandable(this, 'trainingGrants')">
                            Training, Workshops & Funding <i class="fas fa-chevron-down transition-transform"></i>
                        </button>
                        <div id="trainingGrants" class="expandable-content">
                            <p>Explore opportunities for skills development and financial assistance.</p>
                             <ul class="list-disc space-y-2 pl-5 mt-2">
                                <li><strong>AgriSETA:</strong> <a href="https://www.agriseta.co.za" target="_blank" class="text-blue-600 hover:underline">www.agriseta.co.za</a> - Agricultural skills training and learnerships.</li>
                                <li><strong>National Youth Development Agency (NYDA):</strong> <a href="https://www.nyda.gov.za" target="_blank" class="text-blue-600 hover:underline">www.nyda.gov.za</a> - Grants and support for youth entrepreneurs.</li>
                                <li><strong>Small Enterprise Development Agency (SEDA):</strong> <a href="https://www.seda.org.za" target="_blank" class="text-blue-600 hover:underline">www.seda.org.za</a> - Support for small businesses.</li>
                                <li>(Look for local agricultural colleges and NGOs offering rabbit farming courses)</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <button class="expand-button w-full text-left justify-between" onclick="toggleExpandable(this, 'researchInfo')">
                            Studies, Research & Further Info <i class="fas fa-chevron-down transition-transform"></i>
                        </button>
                        <div id="researchInfo" class="expandable-content">
                             <ul class="list-disc space-y-2 pl-5 mt-2">
                                <li>ARC Publications: (Search ARC website for rabbit-specific research)</li>
                                <li>University Agricultural Departments: (Stellenbosch, Pretoria, Fort Hare, etc. may have relevant research)</li>
                                <li>International Rabbit Farming Resources: (FAO, World Rabbit Science Association)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
    <footer class="footer">
        <p>&copy; 2025 Backyard Rabbitry Guide SA. Happy Farming! <i class="fas fa-carrot" style="color:var(--accent-primary);"></i></p>
        <p class="text-xs">Information is for guidance only. Always consult local authorities and experts for specific advice and compliance.</p>
    </footer>

    <script>
        let currentSectionIndex = 0;
        const sections = document.querySelectorAll('.content-section');
        const mainScrollContainer = document.getElementById('mainScrollContainer');
        const navButtons = document.querySelectorAll('.tab-button');
        const numSections = sections.length; // Should be 12 now

        function navigateToSection(sectionIndex) {
            if (sectionIndex >= 0 && sectionIndex < numSections) {
                mainScrollContainer.style.transform = `translateX(-${sectionIndex * (100 / numSections)}%)`;
                currentSectionIndex = sectionIndex;
                navButtons.forEach((btn, index) => {
                    btn.classList.toggle('active', index === sectionIndex);
                });
                 // Scroll the active tab into view on mobile
                const activeButton = navButtons[sectionIndex];
                if (activeButton) {
                    const navScrollable = document.querySelector('.nav-scrollable-tabs');
                    const scrollLeft = activeButton.offsetLeft - (navScrollable.offsetWidth / 2) + (activeButton.offsetWidth / 2);
                    navScrollable.scrollTo({ left: scrollLeft, behavior: 'smooth' });
                }
            }
        }
        if (navButtons.length > 0) navButtons[0].classList.add('active');

        let currentSlide = {};
        function setupCarousel(carouselId) {
            const carousel = document.getElementById(carouselId);
            if (!carousel) return;
            const track = carousel.querySelector('.carousel-track');
            const slides = Array.from(track.children);
            const slideWidth = slides[0].getBoundingClientRect().width;
            currentSlide[carouselId] = { index: 0, track, slides, slideWidth };
            showCarouselSlide(carouselId);
        }

        function moveCarousel(carouselId, direction) {
            const carouselData = currentSlide[carouselId];
            if (!carouselData) return;
            const { slides } = carouselData;
            carouselData.index += direction;
            if (carouselData.index < 0) carouselData.index = slides.length - 1;
            if (carouselData.index >= slides.length) carouselData.index = 0;
            showCarouselSlide(carouselId);
        }

        function showCarouselSlide(carouselId) {
            const carouselData = currentSlide[carouselId];
            if (!carouselData) return;
            const { track, index, slideWidth } = carouselData;
            track.style.transform = `translateX(-${index * slideWidth}px)`;
        }
        
        function toggleExpandable(button, elementId) {
            const content = document.getElementById(elementId);
            const icon = button.querySelector('i.fas');
            if (content) {
                if (content.style.display === "block") {
                    content.style.display = "none";
                    icon.classList.remove('fa-chevron-up');
                    icon.classList.add('fa-chevron-down');
                } else {
                    content.style.display = "block";
                    icon.classList.remove('fa-chevron-down');
                    icon.classList.add('fa-chevron-up');
                }
            }
        }

        // Placeholder for cost calculation functions - adapt if needed
        function calculateCosts() { /* ... */ }
        function calculateOngoingCosts() { /* ... */ }
        
        const nutritionalData = { /* ... from previous version ... */ };
        const costData = { /* ... from previous version ... */ };

        function createCharts() {
            const chartOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { labels: { color: 'var(--text-dark)', font: { family: "'Epilogue', sans-serif" } } } },
                scales: { 
                    y: { ticks: { color: 'var(--text-muted)' }, grid: { color: 'var(--border-color)' } }, 
                    x: { ticks: { color: 'var(--text-muted)' }, grid: { color: 'var(--border-color)' } } 
                }
            };
            const ntx = document.getElementById('nutritionalComparisonChart');
            if (ntx) new Chart(ntx, { type: 'bar', data: nutritionalData, options: chartOptions });
            const ctx = document.getElementById('costComparisonChart');
            if (ctx) new Chart(ctx, { type: 'line', data: costData, options: chartOptions });
        }
        
        function runRabbitrySimulation() { 
            const outputDiv = document.getElementById('simulationOutput');
            if (outputDiv) {
                outputDiv.innerHTML = `<p class="text-gray-700 p-4 bg-yellow-50 border border-yellow-200 rounded-md">Simulation results would appear here based on inputs like number of does, breeding cycle, etc. This is a placeholder for a more complex calculation.</p>`;
            }
        }

        const provinceBylawData = {
            "GP": document.getElementById('gautengBylawContent')?.innerHTML || "<p>Gauteng info placeholder.</p>",
            "WC": document.getElementById('westernCapeBylawContent')?.innerHTML || "<p>Western Cape info placeholder.</p>",
            "EC": document.getElementById('easternCapeBylawContent')?.innerHTML || "<p>Eastern Cape info placeholder.</p>",
            "KZN": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>KwaZulu-Natal</h3><p class='text-lg'>Contact your local KZN municipality (e.g., eThekwini, Msunduzi) for specific bylaws on rabbit keeping, permits, and animal welfare standards.</p></div>",
            "LP": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>Limpopo</h3><p class='text-lg'>Check with your local Limpopo municipality (e.g., Polokwane, Mogalakwena) for regulations regarding rabbit farming.</p></div>",
            "MP": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>Mpumalanga</h3><p class='text-lg'>Consult your local Mpumalanga municipality's Environmental Health or Agricultural department for bylaws.</p></div>",
            "NW": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>North West</h3><p class='text-lg'>Contact your North West local municipality (e.g., Rustenburg, Mahikeng) for guidance on animal keeping bylaws.</p></div>",
            "FS": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>Free State</h3><p class='text-lg'>Check with your Free State local municipality (e.g., Mangaung, Matjhabeng) for specific rabbit farming regulations.</p></div>",
            "NC": "<div class='card'><h3><i class='fas fa-map-marker-alt mr-2'></i>Northern Cape</h3><p class='text-lg'>Consult your Northern Cape local municipality (e.g., Sol Plaatje, Dawid Kruiper) for bylaws related to keeping rabbits.</p></div>",
        };
        function showProvinceBylaws() {
            const selector = document.getElementById('provinceSelector');
            const detailsDiv = document.getElementById('provinceBylawDetails');
            if (selector && detailsDiv) {
                const selectedValue = selector.value;
                if (selectedValue && provinceBylawData[selectedValue]) {
                    detailsDiv.innerHTML = provinceBylawData[selectedValue];
                    detailsDiv.style.display = 'block';
                } else {
                    detailsDiv.style.display = 'none';
                    detailsDiv.innerHTML = '';
                }
            }
        }
        
        // Quiz Bank and Functions (largely same as before, ensure styling matches new theme)
        const quizBank = [ /* ... same quiz bank as previous version ... */ ];
        let currentQuizQuestions = [];
        let currentQuestionIndex = 0;
        let userScore = 0;
        let selectedAnswerForCurrentQuestion = null;

        function startQuiz(category) {
            currentQuizQuestions = quizBank.filter(q => q.category === category).sort(() => 0.5 - Math.random()).slice(0, 5); // 5 random questions
            if (currentQuizQuestions.length === 0) {
                alert("No questions available for this category yet!"); return;
            }
            currentQuestionIndex = 0; userScore = 0; selectedAnswerForCurrentQuestion = null;
            document.getElementById('quizArea').style.display = 'block';
            document.getElementById('quizCategorySelector').style.display = 'none';
            document.getElementById('quizCategoryTitle').innerText = `${category} Quiz`;
            document.getElementById('submitQuizBtn').style.display = 'none';
            document.getElementById('nextQuestionBtn').style.display = 'inline-flex';
            document.getElementById('quizResultsArea').style.display = 'none';
            displayQuizQuestion();
        }
        function displayQuizQuestion() {
            const q = currentQuizQuestions[currentQuestionIndex];
            const container = document.getElementById('quizQuestionContainer');
            let optionsHTML = `<p class="text-lg font-semibold mb-4">${currentQuestionIndex + 1}. ${q.question}</p><div class="space-y-3">`;
            q.options.forEach(opt => {
                optionsHTML += `<button class="quiz-option w-full text-left p-3 rounded-md border hover:bg-yellow-50" onclick="selectQuizAnswer(this, '${opt}', '${q.answer}')">${opt}</button>`;
            });
            optionsHTML += `</div>`;
            container.innerHTML = optionsHTML;
            selectedAnswerForCurrentQuestion = null; // Reset for new question
        }
        function selectQuizAnswer(button, selected, correct) {
            document.querySelectorAll('.quiz-option').forEach(btn => btn.classList.remove('selected', 'border-green-500', 'border-red-500'));
            button.classList.add('selected');
            selectedAnswerForCurrentQuestion = { selected: selected, correct: correct, button: button };
        }
        function nextQuizQuestion() {
            if (!selectedAnswerForCurrentQuestion) { 
                // You could show a message to select an answer
                // For now, just proceed or do nothing
                const outputDiv = document.getElementById('quizResultsArea'); // Or a dedicated message area
                if (outputDiv) {
                    outputDiv.innerHTML = `<p class="text-sm text-red-600 p-2 bg-red-50 rounded">Please select an answer before proceeding.</p>`;
                    outputDiv.style.display = 'block';
                    setTimeout(() => { outputDiv.style.display = 'none'; }, 3000);
                }
                return; 
            }
            if (selectedAnswerForCurrentQuestion.selected === selectedAnswerForCurrentQuestion.correct) {
                userScore++;
            }
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuizQuestions.length) {
                displayQuizQuestion();
            } else {
                showQuizResults();
            }
        }
        function showQuizResults() {
            document.getElementById('quizQuestionContainer').innerHTML = '';
            document.getElementById('nextQuestionBtn').style.display = 'none';
            document.getElementById('submitQuizBtn').style.display = 'none'; // Already handled
            const resultsArea = document.getElementById('quizResultsArea');
            resultsArea.innerHTML = `
                <h4 class="text-xl font-bold mb-3 text-center" style="color:var(--accent-primary)">Quiz Complete!</h4>
                <p class="text-lg text-center mb-4">You scored ${userScore} out of ${currentQuizQuestions.length}.</p>
                <div class="text-center">
                    <button class="btn btn-primary" onclick="resetQuiz()">Try Another Quiz</button>
                </div>`;
            resultsArea.style.display = 'block';
        }
        function resetQuiz() {
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('quizCategorySelector').style.display = 'block';
            document.getElementById('quizResultsArea').style.display = 'none';
        }

        // Rural Youth Guide Content Generation (Placeholder Logic)
        function generateRuralYouthGuide() {
            const role = document.getElementById('introducerRole').value;
            const audience = document.getElementById('audienceGroup').value;
            const outputDiv = document.getElementById('ruralYouthGuideOutput');
            
            let content = `<h4 class="text-lg font-semibold mb-3" style="color:var(--accent-primary)">Tailored Talking Points:</h4>`;
            content += `<p class="mb-2"><strong>Introducing as:</strong> ${role.replace(/_/g, ' ')}</p>`;
            content += `<p class="mb-4"><strong>Talking to:</strong> ${audience.replace(/_/g, ' ')}</p>`;

            // Example dynamic content - this would be much more extensive
            if (role === 'son_highschool' && audience === 'family_adults') {
                content += `
                    <div class="prose prose-sm max-w-none">
                        <p>Tata noMama, I've been learning about something really interesting that could help our family: rabbit farming. It doesn't need a lot of space, and rabbits grow quickly, providing healthy meat.</p>
                        <ul class="list-disc pl-5">
                            <li><strong>Quick Food:</strong> We could have fresh meat much faster than with bigger animals.</li>
                            <li><strong>Good for Garden:</strong> Their manure is amazing for growing vegetables.</li>
                            <li><strong>Learning Opportunity:</strong> It's a chance for us all to learn new skills and work together.</li>
                            <li><strong>Potential Income:</strong> If we get good at it, we could even sell some.</li>
                        </ul>
                        <p>I found a guide that explains it well. Can we look at it together and see if it's something we can try?</p>
                        <img src="https://placehold.co/300x150/f4f0e6/1c180d?text=Family+Discussing" alt="Family discussion visual" class="mt-3 rounded-md">
                    </div>`;
            } else if (role === 'father' && audience === 'community_group') {
                 content += `
                    <div class="prose prose-sm max-w-none">
                        <p>Sanibonani miphakathi yasekhaya. Today I want to talk about an opportunity for our youth and our families: rabbit farming. In places like Willowvale and Idutywa, where jobs can be scarce and good food is essential, rabbits offer a real solution.</p>
                        <ul class="list-disc pl-5">
                            <li><strong>Affordable Protein:</strong> Rabbit meat is nutritious and cheaper to produce than other livestock.</li>
                            <li><strong>Empowering Youth:</strong> This can be a small business for our young people, giving them skills and income.</li>
                            <li><strong>Uses Local Resources:</strong> Rabbits can eat many local plants, reducing feed costs.</li>
                            <li><strong>Improves Food Security:</strong> More local food means stronger families and communities.</li>
                        </ul>
                        <p>I have information and guides we can share. Let's explore how we can support our youth in starting rabbit projects. Imagine our community thriving with this initiative!</p>
                        <img src="https://placehold.co/300x150/fac638/1c180d?text=Community+Meeting" alt="Community meeting visual" class="mt-3 rounded-md">
                    </div>`;
            } else {
                content += "<p><em>(Detailed, tailored talking points and visuals would appear here based on your selections. This is a placeholder. We can build out specific scenarios with more information.)</em></p>";
            }
            outputDiv.innerHTML = content;
            outputDiv.style.display = 'block';
        }


        window.onload = () => {
            navigateToSection(0);
            if (typeof calculateCosts === 'function') calculateCosts();
            if (typeof calculateOngoingCosts === 'function') calculateOngoingCosts();
            if (typeof createCharts === 'function') createCharts();
            setupCarousel('breedCarousel');
            // setupCarousel('diyCarousel'); // If you add another carousel
            const today = new Date().toISOString().split('T')[0];
            const simStartDateEl = document.getElementById('simStartDate');
            if(simStartDateEl) simStartDateEl.value = today;
            showProvinceBylaws(); 
        };
        window.onresize = () => { 
            setupCarousel('breedCarousel');
            // setupCarousel('diyCarousel');
            // Recalculate active tab scroll on resize if needed
            const navScrollable = document.querySelector('.nav-scrollable-tabs');
            const activeButton = navButtons[currentSectionIndex];
            if (activeButton && navScrollable) {
                 const scrollLeft = activeButton.offsetLeft - (navScrollable.offsetWidth / 2) + (activeButton.offsetWidth / 2);
                 navScrollable.scrollTo({ left: scrollLeft, behavior: 'auto' }); // 'auto' for instant on resize
            }
        };
    </script>
</body>
</html>
