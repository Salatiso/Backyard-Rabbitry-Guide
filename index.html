<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Backyard Rabbitry Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- Application Structure Plan: The SPA will retain its tabbed navigation but with enhanced visual appeal and new sections/features. Main tabs: 'üöÄ Start Here', 'üìú Legal Lowdown', 'üõ†Ô∏è Setup & Build', 'üìö Learning Hub', 'üí∞ Budget Time', '‚ù§Ô∏è Care & Breed', 'üçΩÔ∏è Harvest Day', 'üóìÔ∏è Timeline Sim', '‚ùì Fun Quizzes', 'üîó Resources'.
        Key new interactions & structure:
        1.  'Learning Hub': New tab for guides, video placeholders.
        2.  'Timeline Sim': Enhanced interactive timeline where users input #Does, #Bucks, Start Date to simulate breeding cycles, growth, and harvest dates. Output via dynamic text/cards and potentially a simple projection chart.
        3.  'Fun Quizzes': New tab with interactive multiple-choice quizzes (e.g., "Kid's Corner Rabbit Facts", "Rabbitry Basics Quiz").
        4.  Carousels: Implemented in 'Setup & Build' for breeds and 'Learning Hub' for DIY ideas.
        5.  Icons & Visuals: Font Awesome icons and Unicode emojis used throughout for better visual engagement.
        6.  Color Palette: Earthy tones for a warm, inviting feel.
        This structure enhances usability by grouping new interactive elements logically and making the overall experience more engaging for a wider audience, especially younger users, by adding playful and visually stimulating components.
    -->
    <!-- Visualization & Content Choices:
        * General: Enhanced visual styling, icons (Font Awesome & Unicode UNICODE_ICON_RABBIT, UNICODE_ICON_CARROT), and an earthy color palette.
        * Report Info: Section 1 (Benefits) -> Goal: Inform/Engage -> Presentation: Enhanced card layout, icons in 'üöÄ Start Here'.
        * Report Info: Section 2 (Bylaws) -> Goal: Inform -> Presentation: Clear, concise points with legal icons (UNICODE_ICON_SCROLL) in 'üìú Legal Lowdown'.
        * Report Info: Section 3.1 (Breeds) -> Goal: Inform/Compare -> Presentation: Interactive carousel for breeds with images/icons and key facts in 'üõ†Ô∏è Setup & Build'.
        * Report Info: Section 3.3 (DIY Hutch) -> Goal: Guide/Inspire -> Presentation: Expandable sections, link to carousel in 'Learning Hub' for DIY ideas.
        * New Section: 'üìö Learning Hub' -> Goal: Educate/Resource -> Presentation: Cards for guides, (placeholder) video embeds, carousel for DIY project ideas.
        * Report Info: Section 4 (Costs) -> Goal: Inform/Calculate -> Presentation: Existing interactive cost calculator in 'üí∞ Budget Time', styled for better visual appeal.
        * Report Info: Section 5.1.2 (Nutrition Table) -> Goal: Guide -> Presentation: Styled HTML table, expandable, in '‚ù§Ô∏è Care & Breed'.
        * Report Info: Section 6.1 & 6.3 (Nutritional & Cost Charts) -> Goal: Compare/Inform -> Presentation: Existing Chart.js charts in 'üçΩÔ∏è Harvest Day', container styling maintained.
        * New Feature: 'üóìÔ∏è Timeline Sim' -> Goal: Simulate/Plan -> Presentation: User inputs (#Does, #Bucks, Start Date). JS calculates key dates (breeding, kindling, weaning, harvest) for first few cycles. Displayed as dynamic text/cards. Potentially a simple bar chart for projected fryer availability.
        * New Feature: '‚ùì Fun Quizzes' -> Goal: Engage/Educate (all ages) -> Presentation: Multiple choice quizzes with JS for answer checking and feedback. Different themes/difficulty.
        * Report Info: Section 7 (Static Timeline) -> Goal: Guide -> Presentation: Original timeline content moved to an expandable section, as the 'Timeline Sim' provides dynamic planning.
        CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All visuals will be HTML/CSS, Unicode, Font Awesome, or Chart.js Canvas.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FBF9F4; /* Cream/Beige Background */
            color: #4A3B31; /* Dark Brown Text */
        }
        .tab-button {
            transition: all 0.3s ease;
            border-bottom-width: 4px;
            border-bottom-color: transparent;
            color: #786A5F; /* Muted Brown for inactive tabs */
        }
        .tab-button.active {
            color: #5A8B43; /* Earthy Green for active tab */
            border-bottom-color: #5A8B43; /* Earthy Green */
            font-weight: 600;
        }
        .tab-button:hover:not(.active) {
            color: #7CAE5E; /* Lighter Earthy Green for hover */
            border-bottom-color: #7CAE5E;
        }
        .content-section { display: none; }
        .content-section.active { display: block; }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; 
            max-height: 400px;
            background-color: #FFFFFF;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        @media (min-width: 768px) { .chart-container { height: 350px; } }

        h2 {
            font-size: 2rem; /* 32px */
            font-weight: 700;
            color: #8C6B4F; /* Medium Brown */
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #D4C3B2; /* Light Tan */
        }
        h3 {
            font-size: 1.5rem; /* 24px */
            font-weight: 600;
            color: #5A8B43; /* Earthy Green */
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        h4 {
            font-size: 1.25rem; /* 20px */
            font-weight: 600;
            color: #E57C23; /* Muted Orange */
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 0.75rem; /* 12px */
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.07), 0 4px 6px -2px rgba(0,0,0,0.05);
            padding: 1.5rem; /* 24px */
            margin-bottom: 1.5rem; /* 24px */
            border-left: 5px solid #5A8B43; /* Earthy Green accent */
        }
        .card-alt { /* For variety */
             border-left: 5px solid #E57C23; /* Muted Orange accent */
        }

        .table-responsive { overflow-x: auto; }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        th, td {
            border: 1px solid #D4C3B2; /* Light Tan */
            padding: 0.75rem;
            text-align: left;
            font-size: 0.9rem; /* 14.4px */
        }
        th {
            background-color: #F0EBE3; /* Lighter Cream */
            font-weight: 600;
            color: #4A3B31; /* Dark Brown */
        }
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid #D4C3B2; /* Light Tan */
            border-radius: 0.375rem; /* 6px */
            font-size: 0.9rem;
            background-color: #FDFBF5;
            color: #4A3B31;
        }
        .input-field:focus {
            border-color: #5A8B43; /* Earthy Green */
            box-shadow: 0 0 0 0.2rem rgba(90, 139, 67, 0.25);
        }
        .label-text {
            font-weight: 500;
            margin-bottom: 0.5rem;
            display: block;
            color: #8C6B4F; /* Medium Brown */
        }
        .primary-button {
             background-color: #5A8B43; /* Earthy Green */
             color: white;
             padding: 0.75rem 1.5rem;
             border-radius: 0.5rem;
             font-weight: 600;
             transition: background-color 0.3s ease;
             box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .primary-button:hover {
            background-color: #487035; /* Darker Earthy Green */
        }
        .secondary-button {
             background-color: #E57C23; /* Muted Orange */
             color: white;
             padding: 0.75rem 1.5rem;
             border-radius: 0.5rem;
             font-weight: 600;
             transition: background-color 0.3s ease;
             box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .secondary-button:hover {
            background-color: #C0651A; /* Darker Muted Orange */
        }

        .expand-button {
            background-color: #F0EBE3; /* Lighter Cream */
            color: #4A3B31; /* Dark Brown */
            padding: 0.6rem 1.2rem;
            border-radius: 0.375rem;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            border: 1px solid #D4C3B2;
        }
        .expand-button i { transition: transform 0.3s ease; margin-left: 0.5rem; }
        .expand-button.open i { transform: rotate(180deg); }
        .expandable-content {
            display: none;
            margin-top: 1rem;
            padding: 1.5rem;
            background-color: #FDFBF5; /* Cream/Beige Background */
            border-radius: 0.5rem;
            border: 1px solid #EAE0D5; /* Very Light Tan */
        }
        /* Carousel Styles */
        .carousel-container { overflow: hidden; position: relative; width: 100%; max-width: 600px; margin: 1.5rem auto; border-radius: 0.5rem; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        .carousel-track { display: flex; transition: transform 0.5s ease-in-out; }
        .carousel-slide { min-width: 100%; box-sizing: border-box; }
        .carousel-slide img { width: 100%; height: auto; display: block; border-radius: 0.5rem 0.5rem 0 0; }
        .carousel-caption { padding: 1rem; background-color: rgba(0,0,0,0.5); color: white; text-align: center; border-radius: 0 0 0.5rem 0.5rem;}
        .carousel-button { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0,0,0,0.5); color: white; border: none; padding: 0.5rem 1rem; cursor: pointer; z-index: 10; border-radius: 0.3rem;}
        .carousel-button.prev { left: 10px; }
        .carousel-button.next { right: 10px; }

        /* Quiz Styles */
        .quiz-option {
            display: block;
            width: 100%;
            padding: 0.75rem 1rem;
            margin-bottom: 0.5rem;
            text-align: left;
            background-color: #fff;
            border: 2px solid #D4C3B2;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quiz-option:hover { background-color: #F0EBE3; }
        .quiz-option.selected { border-color: #5A8B43; background-color: #E6F0E2; }
        .quiz-feedback { margin-top: 1rem; padding: 0.75rem; border-radius: 0.375rem; }
        .quiz-feedback.correct { background-color: #D1FAE5; color: #065F46; border: 1px solid #6EE7B7;}
        .quiz-feedback.incorrect { background-color: #FEE2E2; color: #991B1B; border: 1px solid #FCA5A5;}

        /* Timeline Simulation Output */
        .sim-output-card { background-color: #fff; border: 1px solid #D4C3B2; border-left-width: 5px; padding: 1rem; margin-bottom: 0.75rem; border-radius: 0.375rem; }
        .sim-output-card h5 { font-weight: 600; color: #E57C23; margin-bottom: 0.25rem; }
    </style>
</head>
<body class="text-gray-800">

    <header class="bg-[#4A3B31] text-white py-8 shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl font-bold"><i class="fas fa-tractor mr-2 text-[#E57C23]"></i>Backyard Rabbitry Guide <i class="fas fa-carrot text-[#E57C23]"></i></h1>
            <p class="text-lg text-[#F0EBE3] mt-2">Your family's fun & interactive journey to fresh, home-raised goodness!</p>
        </div>
    </header>

    <nav class="bg-[#FDFBF5] shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-2 sm:px-4 lg:px-6">
            <div class="flex justify-center space-x-1 sm:space-x-2 overflow-x-auto py-3">
                <button class="tab-button active py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('gettingStarted')"><i class="fas fa-rocket mr-1"></i>Start Here</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('legalLocal')"><i class="fas fa-balance-scale mr-1"></i>Legal Lowdown</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('setupBuild')"><i class="fas fa-tools mr-1"></i>Setup & Build</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('learningHub')"><i class="fas fa-book-open mr-1"></i>Learning Hub</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('budgetCosts')"><i class="fas fa-coins mr-1"></i>Budget Time</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('careBreeding')"><i class="fas fa-heartbeat mr-1"></i>Care & Breed</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('harvestKitchen')"><i class="fas fa-utensils mr-1"></i>Harvest Day</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('timelineSim')"><i class="fas fa-calendar-alt mr-1"></i>Timeline Sim</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('funQuizzes')"><i class="fas fa-question-circle mr-1"></i>Fun Quizzes</button>
                <button class="tab-button py-2 px-2 sm:px-3 text-xs sm:text-sm font-medium whitespace-nowrap" onclick="showSection('resources')"><i class="fas fa-link mr-1"></i>Resources</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <section id="gettingStarted" class="content-section active">
            <h2><i class="fas fa-seedling mr-2 text-green-600"></i>Welcome to Your Rabbit Farming Adventure!</h2>
            <p class="mb-6 text-lg text-[#786A5F]">This section helps you understand the wonderful benefits of raising rabbits for your family in Glenvista, why they're a great choice for beginners, and how to get everyone in the family excited and involved in this rewarding journey. It's about more than just food; it's about learning, responsibility, and sustainability. Let's hop to it! üêá</p>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="card">
                    <h3><i class="fas fa-apple-alt mr-2 text-red-500"></i>The Joy of Raising Your Own Food</h3>
                    <ul class="list-disc list-inside text-[#4A3B31] space-y-2 pl-4">
                        <li>Forge a deeper connection with your family's food source.</li>
                        <li>Ensure quality and origin of meat, free from commercial uncertainties.</li>
                        <li>Consistent supply of fresh, wholesome protein for a family of 10.</li>
                        <li>Rabbits are quiet and need manageable space, ideal for suburban Glenvista.</li>
                        <li>A hands-on learning platform: biology, responsibility, sustainability, life cycles.</li>
                        <li>Shared tasks and collective satisfaction for the whole family.</li>
                    </ul>
                </div>

                <div class="card card-alt">
                    <h3><i class="fas fa-graduation-cap mr-2 text-blue-500"></i>Why Rabbits? A Great Choice for Beginners</h3>
                     <ul class="list-disc list-inside text-[#4A3B31] space-y-2 pl-4">
                        <li>Quiet, docile, and relatively odorless ‚Äì perfect for residential areas.</li>
                        <li>Modest space requirements and potentially low initial setup costs with DIY.</li>
                        <li>Impressive productivity: high reproductive rate and efficient feed-to-meat conversion.</li>
                        <li>Daily care can be a shared family responsibility, involving children.</li>
                        <li>Low-impact way to produce food at home, ideal for suburban self-sufficiency.</li>
                    </ul>
                </div>
            </div>

            <div class="card mt-6">
                <h3><i class="fas fa-users mr-2 text-purple-500"></i>Getting the Family Onboard</h3>
                <p class="mb-3 text-[#4A3B31]">Open communication is key! Clearly explain that rabbits are raised for meat. Involve children in age-appropriate tasks:</p>
                <div class="grid sm:grid-cols-2 gap-4">
                    <div>
                        <h4 class="text-green-600"><i class="fas fa-child mr-1"></i>Younger children (supervised):</h4>
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                            <li>Helping with feeding (pre-measured food).</li>
                            <li>Giving rabbits fresh water.</li>
                            <li>Observing rabbit behavior and learning their names (for breeders).</li>
                            <li>Gentle petting under supervision.</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="text-blue-600"><i class="fas fa-user-graduate mr-1"></i>Older children/teens:</h4>
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                            <li>Hutch cleaning and maintenance.</li>
                            <li>Record keeping (breeding dates, litter sizes).</li>
                            <li>Learning about rabbit health and nutrition.</li>
                            <li>Assisting with DIY projects (hutch building).</li>
                        </ul>
                    </div>
                </div>
                <p class="mt-4 text-[#4A3B31]"><strong><i class="fas fa-exclamation-triangle mr-1 text-red-600"></i>Crucial:</strong> Distinguish "meat rabbits" from "pet rabbits" from day one. Avoid naming meat rabbits or use a different system. Frame the project as a positive family journey towards sustainability and shared learning!</p>
            </div>
        </section>

        <section id="legalLocal" class="content-section">
            <h2><i class="fas fa-gavel mr-2 text-gray-600"></i>Clearing the Hurdles: Rabbit Farming Bylaws</h2>
            <p class="mb-6 text-lg text-[#786A5F]">Understanding and complying with local regulations in Glenvista is the first practical step. This section covers City of Johannesburg bylaws for keeping rabbits, permit requirements, hutch rules, and waste management. Being compliant ensures a smooth project and good neighborly relations.</p>
             <div class="card">
                <h3><i class="fas fa-question-circle mr-2 text-orange-500"></i>How many rabbits can you keep without a permit?</h3>
                <p class="text-xl font-semibold text-green-600">You can keep <strong>five or fewer adult rabbits</strong> without a permit in Johannesburg.</p>
                <h3 class="mt-4"><i class="fas fa-file-signature mr-2 text-orange-500"></i>The Permit Requirement for Your Project (2 Bucks, 4 Does)</h3>
                <p class="text-lg text-[#4A3B31]">Since you plan to start with <strong>six adult rabbits</strong>, you <strong>will need a permit</strong> from the City of Johannesburg. Section 129 of the Keeping of Animals By-laws is clear on this.</p>
            </div>
            <div class="card card-alt">
                <h3><i class="fas fa-tasks mr-2 text-blue-500"></i>The Permit Process</h3>
                <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                    <li>Apply via City of Johannesburg's Environmental Health Department.</li>
                    <li>Application process can take time (e.g., up to 60 working days or more). Apply well in advance of June 2025.</li>
                    <li>Permit cost: Confirm directly with Environmental Health. Could be nominal.</li>
                </ul>
            </div>
             <div class="card">
                <h3><i class="fas fa-home mr-2 text-green-500"></i>City of Johannesburg's Rules for Rabbit Housing & Care</h3>
                <p class="text-[#4A3B31]">Good news: Several subsections of bylaw sections 130 and 131 do NOT apply if you keep <strong>ten or fewer rabbits</strong>.</p>
                <p class="text-[#4A3B31] mt-2">However, other parts WILL apply, likely covering durable, clean hutches, adequate space, ventilation, proper feed storage, and responsible waste disposal.</p>
                <p class="mt-2 font-semibold text-red-600"><i class="fas fa-book-reader mr-1"></i>Action: Obtain the full text of Sections 130 & 131 from Environmental Health.</p>
            </div>
             <div class="card card-alt">
                <h3><i class="fas fa-phone-alt mr-2 text-purple-500"></i>Who to Contact: Environmental Health (Region F)</h3>
                <p class="text-[#4A3B31]">Contact the Region F Environmental Health Unit. (Note: Contact details below are from the report and may need verification for 2025).</p>
                <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4 text-sm">
                    <li>Corrie Bezuidenhout: (011) 376 8522, 082 464 5372, corrieb@joburg.org.za</li>
                    <li>Lizette van Zyl: (011) 681 8082/8060, 082 467 9434, lizettev@joburg.org.za</li>
                    <li>General City Queries: 0860 562 874</li>
                </ul>
            </div>
            <div class="card">
                <h3><i class="fas fa-recycle mr-2 text-green-600"></i>Managing Waste Responsibly</h3>
                <h4 class="text-green-700"><i class="fas fa-leaf mr-1"></i>Rabbit Manure:</h4>
                <p class="text-[#4A3B31]">A valuable "cold" garden fertilizer. Excellent soil conditioner. Compost for best results.</p>
                <h4 class="text-red-700 mt-3"><i class="fas fa-biohazard mr-1"></i>Processing By-products (Inedible Parts):</h4>
                 <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                    <li>Must comply with CoJ Waste Management By-laws & Pikitup guidelines.</li>
                    <li>Burial in urban areas generally NOT permitted.</li>
                    <li>Non-infectious by-products: Secure composting or disposal at authorized facilities.</li>
                    <li><strong><i class="fas fa-phone-volume mr-1"></i>Action:</strong> Contact Pikitup or Environmental Health for approved disposal methods.</li>
                </ul>
            </div>
        </section>

        <section id="setupBuild" class="content-section">
            <h2><i class="fas fa-hammer mr-2 text-yellow-500"></i>Building Your Rabbitry: Breeds to Hutches</h2>
            <p class="mb-6 text-lg text-[#786A5F]">This section guides you through choosing the right rabbit breeds, finding breeders, and leveraging your DIY skills for hutches. Essential gear is also covered, focusing on practical solutions.</p>

            <div class="card">
                <h3><i class="fas fa-paw mr-2 text-brown-500"></i>Choosing Your Champions: Best Meat Rabbit Breeds</h3>
                <p class="mb-4 text-[#4A3B31]">Focus on breeds known for meat qualities, growth, mothering, and local adaptability.</p>
                <div class="carousel-container" id="breedCarousel">
                    <div class="carousel-track">
                        <div class="carousel-slide">
                            <img src="https://placehold.co/600x300/A9DFBF/2E8B57?text=New+Zealand+White" alt="New Zealand White Rabbit">
                            <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">üêë New Zealand White (NZW)</h4>
                                <p class="text-sm">Popular globally. Rapid growth, good feed conversion, calm. Great for beginners.</p>
                            </div>
                        </div>
                        <div class="carousel-slide">
                             <img src="https://placehold.co/600x300/FAD7A0/AF601A?text=Californian+Rabbit" alt="Californian Rabbit">
                             <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">üêá Californian</h4>
                                <p class="text-sm">Excellent meat breed. Good growth, good meat-to-bone ratio, hardy.</p>
                            </div>
                        </div>
                        <div class="carousel-slide">
                             <img src="https://placehold.co/600x300/AED6F1/2980B9?text=SA+Phendula+Rabbit" alt="SA Phendula Rabbit">
                             <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">üáøüá¶ SA Phendula</h4>
                                <p class="text-sm">Developed in SA for local conditions. Good for meat and pelt. Potentially more resilient.</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-button prev" onclick="moveCarousel('breedCarousel', -1)">&#10094;</button>
                    <button class="carousel-button next" onclick="moveCarousel('breedCarousel', 1)">&#10095;</button>
                </div>
                <p class="mt-4 text-[#4A3B31]"><strong><i class="fas fa-lightbulb mr-1 text-yellow-400"></i>Tip:</strong> Prioritize healthy, vigorous stock from parents with proven good litter sizes and growth.</p>
            </div>
            
            <div class="card card-alt">
                <h3><i class="fas fa-search-location mr-2 text-blue-500"></i>Finding Your Foundation Stock</h3>
                 <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                    <li><strong>Gatabi Rabbits (Walkerville):</strong> Gavin 0817650469.</li>
                    <li><strong>Gauteng Rabbit Breeders Association (GRBA):</strong> grbaclub@gmail.com, +27837116763.</li>
                    <li><strong>Online (AgriMag etc.):</strong> Vet breeders thoroughly.</li>
                    <li>Buy at 5-6 months old (ready to breed soon).</li>
                    <li>Ask breeders about parentage, birth dates, vaccination, line performance.</li>
                </ul>
            </div>

            <div class="card">
                <h3><i class="fas fa-home mr-2 text-green-600"></i>Your DIY Hutch Project</h3>
                <button class="expand-button" onclick="toggleExpandable(this, 'hutchDetails')">
                    Hutch Design & Materials Details <i class="fas fa-chevron-down"></i>
                </button>
                <div id="hutchDetails" class="expandable-content">
                    <h4>Designing for Your Needs (2 Bucks, 4 Does, Future Growth)</h4>
                    <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Individual cages for 2 bucks & 4 does (doe cages larger).</li>
                        <li>Grow-out cages/pens for weaned kits. Min. adult cage: ~50cmW x 90cmD x 40cmH.</li>
                        <li>Consider tiered/stacked systems. See 'Learning Hub' for DIY ideas.</li>
                    </ul>
                    <h4 class="mt-3">Essential Materials</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li><strong>Wood Frame:</strong> CCA treated pine.</li>
                        <li><strong>Wire Mesh (Galvanized):</strong> Floors: 25mm x 12.5mm. Sides: 25mm x 50mm. Fix wire INSIDE frame.</li>
                        <li><strong>Roofing:</strong> Waterproof (e.g., Corrugated IBR).</li>
                        <li><strong>Hardware:</strong> Stainless steel or galvanized.</li>
                    </ul>
                </div>
            </div>
            
            <div class="card card-alt">
                <h3><i class="fas fa-shield-alt mr-2 text-red-600"></i>Predator-Proofing Your Suburban Setup</h3>
                <p class="text-[#4A3B31]">Essential! Common threats: domestic dogs/cats, rats, snakes.</p>
                <button class="expand-button" onclick="toggleExpandable(this, 'predatorProofing')">
                    Effective Predator-Proofing Methods <i class="fas fa-chevron-down"></i>
                </button>
                <div id="predatorProofing" class="expandable-content">
                    <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Sturdy construction, secure latches.</li>
                        <li>Elevate hutches (60-90cm). Wire mesh floors.</li>
                        <li>Solid roof. Strategic placement.</li>
                    </ul>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-cogs mr-2 text-gray-500"></i>Essential Gear</h3>
                <div class="grid md:grid-cols-3 gap-4 mt-2">
                    <div>
                        <h4 class="text-green-700"><i class="fas fa-utensil-spoon mr-1"></i>Feeders:</h4>
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] pl-4"><li>J-Feeders</li><li>Heavy Crocks</li><li>DIY PVC</li></ul>
                    </div>
                    <div>
                        <h4 class="text-blue-700"><i class="fas fa-tint mr-1"></i>Waterers (DIY Recommended):</h4>
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] pl-4"><li>Nipple Systems</li><li>Water Bottles</li></ul>
                    </div>
                    <div>
                        <h4 class="text-purple-700"><i class="fas fa-box-open mr-1"></i>Nest Boxes:</h4>
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] pl-4"><li>Untreated wood</li><li>~38x25x25cm</li></ul>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="learningHub" class="content-section">
            <h2><i class="fas fa-graduation-cap mr-2 text-indigo-600"></i>Learning Hub: Guides, Videos & DIY</h2>
            <p class="mb-6 text-lg text-[#786A5F]">Welcome to your go-to spot for learning everything about rabbit care, setup, and more! Explore our guides, watch helpful videos (coming soon!), and get inspired by DIY projects.</p>

            <div class="card">
                <h3><i class="fas fa-book mr-2 text-green-600"></i>Rabbit Care Guides</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="p-4 border border-[#D4C3B2] rounded-lg hover:shadow-lg transition-shadow">
                        <h4 class="!text-green-700"><i class="fas fa- stethoscope mr-1"></i>Basic Rabbit Health Checks</h4>
                        <p class="text-sm text-[#4A3B31]">Learn how to spot common signs of illness and keep your rabbits healthy and happy. Daily observation is key!</p>
                        <a href="#" class="text-sm text-orange-600 hover:underline">Read Guide (Coming Soon) &rarr;</a>
                    </div>
                    <div class="p-4 border border-[#D4C3B2] rounded-lg hover:shadow-lg transition-shadow">
                        <h4 class="!text-green-700"><i class="fas fa-seedling mr-1"></i>Feeding Your Rabbits Right</h4>
                        <p class="text-sm text-[#4A3B31]">A guide to balanced nutrition, what to feed, how much, and what to avoid for optimal growth and health.</p>
                        <a href="#" class="text-sm text-orange-600 hover:underline">Read Guide (Coming Soon) &rarr;</a>
                    </div>
                </div>
            </div>

            <div class="card card-alt">
                <h3><i class="fas fa-video mr-2 text-red-600"></i>Helpful Video Tutorials (Placeholders)</h3>
                <div class="grid md:grid-cols-2 gap-4">
                    <div class="p-4 border border-[#D4C3B2] rounded-lg bg-gray-100">
                        <div class="aspect-w-16 aspect-h-9 bg-gray-300 rounded flex items-center justify-center">
                            <i class="fas fa-play-circle text-4xl text-gray-500"></i>
                        </div>
                        <h4 class="!text-orange-600 mt-2">How to Build a Simple Rabbit Hutch</h4>
                        <p class="text-sm text-[#4A3B31]">Visual step-by-step guide. (Video content to be added)</p>
                    </div>
                    <div class="p-4 border border-[#D4C3B2] rounded-lg bg-gray-100">
                         <div class="aspect-w-16 aspect-h-9 bg-gray-300 rounded flex items-center justify-center">
                            <i class="fas fa-play-circle text-4xl text-gray-500"></i>
                        </div>
                        <h4 class="!text-orange-600 mt-2">Setting Up a DIY Watering System</h4>
                        <p class="text-sm text-[#4A3B31]">Save time and keep water clean. (Video content to be added)</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3><i class="fas fa-lightbulb mr-2 text-yellow-500"></i>DIY Project Ideas Carousel</h3>
                 <div class="carousel-container" id="diyCarousel">
                    <div class="carousel-track">
                        <div class="carousel-slide">
                            <img src="https://placehold.co/600x300/C1E1C1/487035?text=DIY+Stacked+Hutch" alt="DIY Stacked Hutch">
                            <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">DIY Stacked Hutch Rack</h4>
                                <p class="text-sm">Space-saving design using PVC or wood. Great for suburban backyards.</p>
                            </div>
                        </div>
                        <div class="carousel-slide">
                             <img src="https://placehold.co/600x300/FDD9B5/C0651A?text=DIY+Nipple+Waterer" alt="DIY Nipple Waterer">
                             <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">DIY Nipple Watering System</h4>
                                <p class="text-sm">Keep water clean and reduce daily chores with this setup.</p>
                            </div>
                        </div>
                        <div class="carousel-slide">
                             <img src="https://placehold.co/600x300/AEC6CF/2E8B57?text=DIY+Rabbit+Feeder" alt="DIY Rabbit Feeder">
                             <div class="carousel-caption">
                                <h4 class="text-white !text-lg !mt-0 !mb-1">DIY PVC Feeder</h4>
                                <p class="text-sm">Cost-effective and helps keep feed clean and reduce waste.</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-button prev" onclick="moveCarousel('diyCarousel', -1)">&#10094;</button>
                    <button class="carousel-button next" onclick="moveCarousel('diyCarousel', 1)">&#10095;</button>
                </div>
            </div>
        </section>

        <section id="budgetCosts" class="content-section">
            <h2><i class="fas fa-wallet mr-2 text-green-600"></i>Budget & Costs: Your Rabbitry Financials</h2>
            <p class="mb-6 text-lg text-[#786A5F]">A clear financial picture is vital. This section breaks down estimated initial setup costs and ongoing operational expenses. Use the calculator below to get a personalized estimate. Remember, DIY efforts can significantly reduce costs!</p>
            <div class="card">
                <h3><i class="fas fa-calculator mr-2 text-orange-500"></i>Interactive Initial Investment Calculator</h3>
                <p class="text-sm text-[#786A5F] mb-4">Enter your estimated quantities and unit costs. Default values are based on the report.</p>
                <div class="grid md:grid-cols-2 gap-x-8 gap-y-6">
                    <div>
                        <h4 class="!text-green-700 mb-2"><i class="fas fa-venus-mars mr-1"></i>Breeding Stock (2 Bucks, 4 Does)</h4>
                        <div class="grid grid-cols-2 gap-4 mb-2">
                            <div>
                                <label class="label-text" for="numDoes">Number of Does:</label>
                                <input type="number" id="numDoes" value="4" class="input-field" oninput="calculateCosts()">
                            </div>
                            <div>
                                <label class="label-text" for="costPerDoe">Avg. Cost per Doe (R):</label>
                                <input type="number" id="costPerDoe" value="525" class="input-field" oninput="calculateCosts()">
                            </div>
                        </div>
                        <div class="grid grid-cols-2 gap-4 mb-2">
                            <div>
                                <label class="label-text" for="numBucks">Number of Bucks:</label>
                                <input type="number" id="numBucks" value="2" class="input-field" oninput="calculateCosts()">
                            </div>
                            <div>
                                <label class="label-text" for="costPerBuck">Avg. Cost per Buck (R):</label>
                                <input type="number" id="costPerBuck" value="525" class="input-field" oninput="calculateCosts()">
                            </div>
                        </div>
                        <p class="font-semibold text-lg">Subtotal Stock: R <span id="stockTotal" class="text-green-600">3150.00</span></p>
                    </div>
                    <div>
                        <h4 class="!text-green-700 mb-2"><i class="fas fa-paint-roller mr-1"></i>DIY Hutch Materials (6 cages + grow-out)</h4>
                        <div class="space-y-2">
                            <div><label class="label-text" for="timberCost">Timber (CCA Pine) (R):</label><input type="number" id="timberCost" value="1300" class="input-field" oninput="calculateCosts()"></div>
                            <div><label class="label-text" for="meshCost">Welded Wire Mesh (R):</label><input type="number" id="meshCost" value="2800" class="input-field" oninput="calculateCosts()"></div>
                            <div><label class="label-text" for="roofingCost">Roofing (IBR Sheeting) (R):</label><input type="number" id="roofingCost" value="1450" class="input-field" oninput="calculateCosts()"></div>
                            <div><label class="label-text" for="hardwareCost">Hardware (Screws, Hinges, Latches) (R):</label><input type="number" id="hardwareCost" value="500" class="input-field" oninput="calculateCosts()"></div>
                            <div><label class="label-text" for="trayCost">Dropping Trays (R):</label><input type="number" id="trayCost" value="1200" class="input-field" oninput="calculateCosts()"></div>
                        </div>
                        <p class="font-semibold text-lg mt-2">Subtotal Hutch: R <span id="hutchTotal" class="text-green-600">7250.00</span></p>
                    </div>
                </div>
                <div class="mt-6">
                     <h4 class="!text-green-700 mb-2"><i class="fas fa-box mr-1"></i>Feeders, Waterers, Nest Boxes</h4>
                     <div class="grid sm:grid-cols-3 gap-4">
                        <div><label class="label-text" for="feedersCost">Feeders (R):</label><input type="number" id="feedersCost" value="450" class="input-field" oninput="calculateCosts()"></div>
                        <div><label class="label-text" for="wateringCost">DIY Watering System (R):</label><input type="number" id="wateringCost" value="650" class="input-field" oninput="calculateCosts()"></div>
                        <div><label class="label-text" for="nestBoxCost">DIY Nest Boxes (4) (R):</label><input type="number" id="nestBoxCost" value="200" class="input-field" oninput="calculateCosts()"></div>
                     </div>
                     <p class="font-semibold text-lg mt-2">Subtotal Gear: R <span id="gearTotal" class="text-green-600">1300.00</span></p>
                </div>
                <div class="mt-8 p-6 bg-[#E6F0E2] border-2 border-green-500 rounded-lg text-center">
                    <h3 class="text-2xl font-bold text-green-700 !mt-0">Total Estimated Initial Investment: R <span id="grandTotalInvestment">11700.00</span></h3>
                    <p class="text-sm text-green-600">This is an estimate. Careful shopping & maximizing DIY can reduce this.</p>
                </div>
            </div>

            <div class="card mt-8 card-alt">
                <h3><i class="fas fa-hand-holding-usd mr-2 text-blue-500"></i>Ongoing Expenses (Monthly for initial 6 adults)</h3>
                 <p class="text-sm text-[#786A5F] mb-4">Feed is the largest recurring cost. This will increase with litters.</p>
                 <div class="grid md:grid-cols-2 gap-x-8 gap-y-4">
                     <div>
                        <label class="label-text" for="pelletsKg">Monthly Pellets (kg) for 6 adults:</label>
                        <input type="number" id="pelletsKg" value="27" class="input-field" oninput="calculateOngoingCosts()">
                        <label class="label-text mt-2" for="pelletsCostPerKg">Cost per kg Pellets (R):</label>
                        <input type="number" id="pelletsCostPerKg" value="10" class="input-field" oninput="calculateOngoingCosts()">
                        <p class="font-medium mt-1 text-lg">Pellet Cost: R <span id="monthlyPelletCost" class="text-blue-600">270.00</span></p>
                     </div>
                     <div>
                        <label class="label-text" for="hayKg">Monthly Hay (kg) for 6 adults:</label>
                        <input type="number" id="hayKg" value="18" class="input-field" oninput="calculateOngoingCosts()">
                        <label class="label-text mt-2" for="hayCostPerKg">Cost per kg Hay (R):</label>
                        <input type="number" id="hayCostPerKg" value="8" class="input-field" oninput="calculateOngoingCosts()">
                        <p class="font-medium mt-1 text-lg">Hay Cost: R <span id="monthlyHayCost" class="text-blue-600">144.00</span></p>
                     </div>
                     <div>
                        <label class="label-text" for="beddingCost">Monthly Bedding (Straw/Shavings) (R):</label>
                        <input type="number" id="beddingCost" value="75" class="input-field" oninput="calculateOngoingCosts()">
                     </div>
                     <div>
                        <label class="label-text" for="vetContingency">Monthly Vet Contingency Fund (R):</label>
                        <input type="number" id="vetContingency" value="150" class="input-field" oninput="calculateOngoingCosts()">
                     </div>
                 </div>
                 <div class="mt-6 p-4 bg-[#E0E7FF] border-2 border-blue-500 rounded-lg text-center">
                    <h4 class="text-xl font-bold text-blue-700 !mt-0">Total Estimated Initial Monthly Ongoing Cost (6 Adults): R <span id="totalMonthlyOngoing">639.00</span></h4>
                    <p class="text-sm text-blue-600">Note: Lactating does and growing kits dramatically increase feed needs.</p>
                 </div>
            </div>
            <div class="card mt-6">
                 <h3><i class="fas fa-id-card mr-2 text-purple-500"></i>Permit Fees</h3>
                 <p class="text-[#4A3B31]">Initial CoJ permit to keep >5 rabbits: Budget R50-R200 (confirm with Environmental Health). Likely one-off or periodic renewal.</p>
            </div>
        </section>

        <section id="careBreeding" class="content-section">
            <h2><i class="fas fa-heart-pulse mr-2 text-red-500"></i>Day-to-Day Rabbit Care and Production</h2>
            <p class="mb-6 text-lg text-[#786A5F]">Consistent, knowledgeable care is the heart of a successful rabbitry. This section covers daily routines, nutrition, the breeding cycle, caring for pregnant does and kits, and the vital role of good record-keeping.</p>

            <div class="card">
                <h3><i class="fas fa-clipboard-list mr-2 text-green-500"></i>Daily and Weekly Routines</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="!text-green-700"><i class="fas fa-sun mr-1"></i>Daily:</h4>
                        <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                            <li>Feed fresh pellets & replenish hay.</li>
                            <li>Ensure fresh, clean water.</li>
                            <li>Health checks: observe behavior, appetite, eyes, nose, droppings.</li>
                            <li>Spot clean soiled areas.</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="!text-green-700"><i class="fas fa-calendar-week mr-1"></i>Weekly:</h4>
                        <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                            <li>Thorough cage cleaning.</li>
                            <li>Disinfect cages, feeders, waterers periodically.</li>
                            <li>Check feed/water storage. Keep rabbitry area tidy.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card card-alt">
                <h3><i class="fas fa-carrot mr-2 text-orange-500"></i>Nutrition Plan: What and How Much to Feed</h3>
                <p class="text-[#4A3B31] mb-2">A balanced diet is crucial. Core components:</p>
                <ol class="list-decimal list-inside text-[#4A3B31] space-y-1 pl-4">
                    <li><strong>Commercial Rabbit Pellets:</strong> Base of diet. 16-18% protein.</li>
                    <li><strong>Hay:</strong> Unlimited good quality grass hay.</li>
                </ol>
                <button class="expand-button mt-3" onclick="toggleExpandable(this, 'feedGuideTable')">
                    View Daily Feed Guide Table <i class="fas fa-chevron-down"></i>
                </button>
                <div id="feedGuideTable" class="expandable-content">
                    <div class="table-responsive">
                        <table>
                            <thead><tr><th>Rabbit Category</th><th>Daily Pellet Intake (grams)</th><th>Notes</th></tr></thead>
                            <tbody>
                                <tr><td>Bucks (Adult, Non-Breeding)</td><td>140 - 170 g</td><td>Adjust based on condition; unlimited hay</td></tr>
                                <tr><td>Does (Resting, Non-Pregnant)</td><td>170 g</td><td>Adjust based on condition; unlimited hay</td></tr>
                                <tr><td>Does (Pregnant)</td><td>200 - 250 g</td><td>May increase/free-feed late pregnancy.</td></tr>
                                <tr><td>Does (Lactating, 0-3 wks litter)</td><td>Free-feed (227-340g+)</td><td>18% protein pellets.</td></tr>
                                <tr><td>Does (Lactating, 3 wks+ litter)</td><td>Free-feed (340-680g+)</td><td>Unlimited hay & water.</td></tr>
                                <tr><td>Weaned Kits/Grow-outs (to 12 wks)</td><td>Free-feed or up to 227g</td><td>18% protein pellets.</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <p class="text-[#4A3B31] mt-3"><strong>Supplements:</strong> Small amounts of fresh greens/veg. Introduce new foods slowly. <strong>Water:</strong> Constant clean, fresh water!</p>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card">
                     <h3><i class="fas fa-venus-mars mr-2 text-pink-500"></i>The Breeding Cycle Explained</h3>
                     <button class="expand-button" onclick="toggleExpandable(this, 'breedingCycleDetails')">
                        Breeding Cycle Details <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="breedingCycleDetails" class="expandable-content">
                        <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                            <li><strong>Sexual Maturity:</strong> Does 5-8 months, Bucks 6-9 months.</li>
                            <li><strong>Mating:</strong> ALWAYS take doe to buck's cage.</li>
                            <li><strong>Gestation:</strong> ~31 days.</li>
                            <li><strong>Kindling (Birthing):</strong> Provide nest box ~2-5 days before due date.</li>
                            <li><strong>Litter Size:</strong> Avg 7-10 kits.</li>
                            <li><strong>Weaning:</strong> Typically 5-8 weeks.</li>
                        </ul>
                    </div>
                </div>
                <div class="card card-alt">
                    <h3><i class="fas fa-baby-carriage mr-2 text-blue-400"></i>Caring for Pregnant Does and Newborn Kits</h3>
                    <p class="text-[#4A3B31]">Pregnant does need good nutrition, fresh water, minimal stress. Kits are born blind, deaf, hairless. Check nest box daily (briefly) for first few days. Minimize handling. Fur by day 3-5, eyes open day 7-10.</p>
                </div>
            </div>
            <div class="card">
                <h3><i class="fas fa-book-medical mr-2 text-purple-500"></i>Keeping Good Records: A Key to Success</h3>
                <p class="text-[#4A3B31]">Crucial for efficiency! Track: ID, breeding dates, kindling details, litter info, health. Use cage cards, record book, or spreadsheet. See 'Resources' for samples.</p>
            </div>
        </section>

        <section id="harvestKitchen" class="content-section">
            <h2><i class="fas fa-drumstick-bite mr-2 text-orange-700"></i>From Kit to Kitchen: Harvest and Nutrition</h2>
            <p class="mb-6 text-lg text-[#786A5F]">This section covers growth timelines, humane dispatch, processing, expected yields, and the excellent nutritional benefits of rabbit meat. We'll also compare costs.</p>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card">
                    <h3><i class="fas fa-ruler-combined mr-2 text-yellow-500"></i>Growth Timelines: Reaching Slaughter Weight</h3>
                    <p class="text-[#4A3B31]">"Fryers" (young meat rabbits) are typically processed at <strong>8-12 weeks old</strong>. Target live weight: <strong>1.6kg - 2.5kg</strong>. Good breeds on good feed can reach ~2.2kg by 8-10 weeks.</p>
                </div>
                <div class="card card-alt">
                    <h3><i class="fas fa-hand-holding-heart mr-2 text-red-500"></i>Humane Dispatch and At-Home Processing</h3>
                    <p class="text-[#4A3B31]">A respectful approach is vital. Goal: Instantaneous unconsciousness.</p>
                    <h4 class="!text-orange-600 mt-2">Recommended Methods:</h4>
                    <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                        <li>Cervical Dislocation.</li>
                        <li>Blunt Force Trauma.</li>
                    </ul>
                    <p class="text-[#4A3B31] mt-1"><strong>Action:</strong> Research thoroughly. Seek experienced guidance for your first time.</p>
                     <button class="expand-button mt-3" onclick="toggleExpandable(this, 'processingSteps')">
                        Basic Processing Steps <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="processingSteps" class="expandable-content">
                        <ol class="list-decimal list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                            <li><strong>Bleeding:</strong> Immediately after dispatch.</li>
                            <li><strong>Skinning.</strong></li>
                            <li><strong>Evisceration:</strong> Save heart, liver, kidneys.</li>
                            <li><strong>Cleaning & Chilling.</strong></li>
                        </ol>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3><i class="fas fa-weight-hanging mr-2 text-green-600"></i>Expected Meat Yields</h3>
                <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4">
                    <li><strong>Dressing Percentage:</strong> 55-65% of live weight.</li>
                    <li><strong>Productivity per Doe:</strong> Multiple litters/year (4-6). Avg 7-10 kits/litter.</li>
                    <li><strong>Meeting Family Needs (10 people, 5 rabbit meals/week):</strong> Requires ~10 processed rabbits/week (2 fryers/meal). This is an <strong>AMBITIOUS target</strong> for 4 does initially. Realistic initial output: 2-4 fryers/week.</li>
                </ul>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="card card-alt">
                    <h3><i class="fas fa-chart-line mr-2 text-blue-500"></i>The Healthy Choice: Nutritional Value</h3>
                    <p class="text-[#4A3B31]">Rabbit meat is lean, high in protein, low in fat & cholesterol.</p>
                    <div class="chart-container my-4 h-96 sm:h-[450px]">
                        <canvas id="nutritionalComparisonChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-gray-500">Approx. values per 100g raw meat.</p>
                </div>
                <div class="card">
                    <h3><i class="fas fa-dollar-sign mr-2 text-green-500"></i>Farming Your Own vs. Buying from Store</h3>
                    <p class="text-[#4A3B31]">Estimated direct cost to produce 1kg home-raised rabbit meat: ~R58/kg (excluding setup & labor).</p>
                    <div class="chart-container my-4 h-80 sm:h-96">
                        <canvas id="costComparisonChart"></canvas>
                    </div>
                    <p class="text-xs text-center text-gray-500">Store prices May 2024. Home-raised is an estimate.</p>
                </div>
            </div>
             <div class="card mt-6">
                <h3><i class="fas fa-concierge-bell mr-2 text-purple-500"></i>Taste and Culinary Uses</h3>
                <p class="text-[#4A3B31]">Mild, delicate flavor, often compared to chicken. Versatile: roast, stew, fry, grill. See 'Resources' for recipe ideas.</p>
            </div>
        </section>

        <section id="timelineSim" class="content-section">
            <h2><i class="fas fa-cogs mr-2 text-purple-600"></i>Rabbitry Timeline Simulator</h2>
            <p class="mb-6 text-lg text-[#786A5F]">Curious about how your rabbitry might grow? Enter a few details below to see a simplified projection of breeding cycles and potential harvest times. This is a basic simulation to help you visualize the journey!</p>

            <div class="card">
                <h3><i class="fas fa-sliders-h mr-2 text-green-600"></i>Simulation Setup</h3>
                <div class="grid md:grid-cols-3 gap-4 mb-6">
                    <div>
                        <label for="simNumDoes" class="label-text">Number of Breeding Does:</label>
                        <input type="number" id="simNumDoes" class="input-field" value="4" min="1" max="10">
                    </div>
                    <div>
                        <label for="simNumBucks" class="label-text">Number of Breeding Bucks:</label>
                        <input type="number" id="simNumBucks" class="input-field" value="2" min="1" max="5">
                    </div>
                    <div>
                        <label for="simStartDate" class="label-text">Project Start Date (Rabbit Acquisition):</label>
                        <input type="date" id="simStartDate" class="input-field">
                    </div>
                </div>
                <button class="primary-button w-full md:w-auto" onclick="runRabbitrySimulation()"><i class="fas fa-play-circle mr-2"></i>Run Simulation</button>
            </div>

            <div id="simulationOutput" class="mt-8">
                <p class="text-center text-[#786A5F] italic">Enter your details above and click "Run Simulation" to see your projected timeline.</p>
            </div>
            
            <div class="card mt-8 card-alt">
                <h3><i class="fas fa-info-circle mr-2 text-blue-500"></i>Understanding the Simulation</h3>
                <p class="text-sm text-[#4A3B31]">This simulation uses simplified assumptions:</p>
                <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4 mt-2">
                    <li>Settling-in period: 14 days after rabbit acquisition before first breeding.</li>
                    <li>Gestation period: 31 days.</li>
                    <li>Weaning age: 6 weeks (42 days). Fryers moved to grow-out.</li>
                    <li>Time to harvest (fryer age): 10 weeks (70 days from birth).</li>
                    <li>Re-breeding: Does are re-bred ~2 weeks after weaning their litter (if in good condition).</li>
                    <li>Litter size: Assumed average of 7 surviving kits per litter for projection.</li>
                    <li>Bucks: Assumes enough bucks are available for the number of does.</li>
                </ul>
                <p class="text-sm text-[#4A3B31] mt-3"><strong>Note:</strong> Real-world results can vary greatly based on rabbit health, management, breed, and environmental factors. This tool is for illustrative planning purposes.</p>
            </div>
             <div class="card mt-6">
                <h3><i class="fas fa-calendar-check mr-2 text-orange-500"></i>Original Static Project Plan (June 1st, 2025 Start)</h3>
                <button class="expand-button" onclick="toggleExpandable(this, 'staticTimelineDetails')">
                    View Original Detailed Timeline <i class="fas fa-chevron-down"></i>
                </button>
                <div id="staticTimelineDetails" class="expandable-content">
                    <h4>Phase 1: Foundation & Setup (Now ‚Äì End of May 2025)</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Months 1-3 (Dec 2024 - Feb 2025): Family engagement, research & bylaw confirmation, initiate permit.</li>
                        <li>Months 4-6 (Mar 2025 - May 2025): Hutch design, source materials, build hutches, setup equipment, confirm stock, source feed.</li>
                    </ul>
                    <h4 class="mt-3">Phase 2: Welcome Rabbits! (June 1st, 2025)</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Acquire stock, introduce to hutches, settling-in period.</li>
                    </ul>
                     <h4 class="mt-3">Phase 3: First Breeding Cycle (Mid-June ‚Äì Mid-July 2025)</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Initiate breeding, gestation, prepare for kindling.</li>
                    </ul>
                    <h4 class="mt-3">Phase 4: Raising First Litters (Mid-July ‚Äì Mid-September 2025)</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Kindling, post-kindling care, weaning, re-breed does.</li>
                    </ul>
                     <h4 class="mt-3">Phase 5: First Harvest & Sustainable Cycles (Late Sept/Oct 2025 onwards)</h4>
                     <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Fryers reach slaughter age, first processing, establish sustainable cycles.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="funQuizzes" class="content-section">
            <h2><i class="fas fa-puzzle-piece mr-2 text-teal-500"></i>Fun Quizzes: Test Your Rabbit Knowledge!</h2>
            <p class="mb-6 text-lg text-[#786A5F]">Ready to have some fun and learn a bit more about rabbits? Try our quizzes below! Perfect for all ages.</p>

            <div class="card">
                <h3><i class="fas fa-child mr-2 text-pink-500"></i>Kid's Corner: Rabbit Facts Quiz!</h3>
                <div id="quizKids">
                    <div class="quiz-question mb-4">
                        <p class="font-semibold text-[#4A3B31]">1. What is a baby rabbit called?</p>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q1')" data-answer="kit">A puppy</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q1')" data-answer="kit">A kit</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q1')" data-answer="kit">A chick</button>
                    </div>
                    <div class="quiz-question mb-4">
                        <p class="font-semibold text-[#4A3B31]">2. What is a rabbit's favorite crunchy vegetable?</p>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q2')" data-answer="carrot">A potato</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q2')" data-answer="carrot">A carrot</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizKids_q2')" data-answer="carrot">An onion</button>
                    </div>
                    <button class="primary-button mt-2" onclick="submitQuiz('quizKids', {'quizKids_q1': 'kit', 'quizKids_q2': 'carrot'})">Check Answers!</button>
                    <div id="quizKids_feedback" class="quiz-feedback mt-4"></div>
                </div>
            </div>

            <div class="card card-alt mt-8">
                <h3><i class="fas fa-user-graduate mr-2 text-blue-500"></i>Rabbitry Basics Quiz</h3>
                 <div id="quizBasics">
                    <div class="quiz-question mb-4">
                        <p class="font-semibold text-[#4A3B31]">1. What is the average gestation period for a rabbit?</p>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q1')" data-answer="31days">21 days</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q1')" data-answer="31days">31 days</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q1')" data-answer="31days">45 days</button>
                    </div>
                    <div class="quiz-question mb-4">
                        <p class="font-semibold text-[#4A3B31]">2. What is the term for a female rabbit giving birth?</p>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q2')" data-answer="kindling">Farrowing</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q2')" data-answer="kindling">Hatching</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q2')" data-answer="kindling">Kindling</button>
                    </div>
                     <div class="quiz-question mb-4">
                        <p class="font-semibold text-[#4A3B31]">3. Which of these is NOT a common meat rabbit breed?</p>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q3')" data-answer="lop">New Zealand White</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q3')" data-answer="lop">Californian</button>
                        <button class="quiz-option" onclick="selectQuizOption(this, 'quizBasics_q3')" data-answer="lop">Holland Lop</button>
                    </div>
                    <button class="secondary-button mt-2" onclick="submitQuiz('quizBasics', {'quizBasics_q1': '31days', 'quizBasics_q2': 'kindling', 'quizBasics_q3': 'lop'})">Check Answers!</button>
                    <div id="quizBasics_feedback" class="quiz-feedback mt-4"></div>
                </div>
            </div>
        </section>

        <section id="resources" class="content-section">
            <h2><i class="fas fa-atlas mr-2 text-green-700"></i>Resources: Contacts, Records, and More</h2>
            <p class="mb-6 text-lg text-[#786A5F]">This section provides a quick reference to useful contacts, sample record-keeping sheets, recipe ideas, and DIY plans mentioned in the guide. These resources are here to support your rabbit farming journey.</p>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="card">
                    <h3><i class="fas fa-address-book mr-2 text-blue-500"></i>Useful Contacts (Verify current details)</h3>
                    <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4 text-sm">
                        <li><strong>City of Johannesburg Environmental Health (Region F)</strong></li>
                        <li><strong>Gauteng Rabbit Breeders Association (GRBA)</strong></li>
                        <li><strong>Local Breeder Example: Gatabi Rabbits</strong></li>
                        <li><strong>Pikitup Johannesburg</strong></li>
                        <li><strong>Local Veterinarian (Research one)</strong></li>
                    </ul>
                </div>
                <div class="card card-alt">
                    <h3><i class="fas fa-file-alt mr-2 text-purple-500"></i>Sample Rabbitry Record-Keeping Sheets</h3>
                    <p class="text-[#4A3B31] mb-2 text-sm">Good records are essential. Examples:</p>
                    <ul class="list-disc list-inside text-sm text-[#4A3B31] space-y-1 pl-4">
                        <li>Doe Breeding Record Card</li>
                        <li>Buck Record Card</li>
                        <li>Litter Grow-Out Record</li>
                    </ul>
                    <p class="text-xs text-[#786A5F] mt-1">Create your own detailed sheets or find templates online.</p>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6 mt-6">
                <div class="card">
                    <h3><i class="fas fa-drumstick-bite mr-2 text-orange-600"></i>Beginner-Friendly Rabbit Recipes (Ideas)</h3>
                     <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4 text-sm">
                        <li>Simple Roasted Rabbit</li>
                        <li>Rabbit Stew (Slow Cooker/Stovetop)</li>
                        <li>Pan-Fried Rabbit with Lemon and Herbs</li>
                     </ul>
                </div>
                <div class="card card-alt">
                    <h3><i class="fas fa-tools mr-2 text-yellow-600"></i>DIY Plans (Summarized)</h3>
                     <ul class="list-disc list-inside text-[#4A3B31] space-y-1 pl-4 text-sm">
                        <li>Detailed DIY Stacked Cage Rack Plan (PVC)</li>
                        <li>Detailed DIY Semi-Automated Watering System</li>
                     </ul>
                     <p class="text-xs text-[#786A5F] mt-1">Refer to original report appendices for full details.</p>
                </div>
            </div>
        </section>

         <footer class="text-center py-10 mt-12 border-t-2 border-[#D4C3B2]">
            <p class="text-[#4A3B31] text-lg">&copy; 2025 Your Glenvista Family Rabbitry Project. Happy Farming! <i class="fas fa-carrot text-orange-500"></i></p>
            <p class="text-sm text-[#786A5F] mt-1">Information based on the "A Family Guide to Backyard Rabbit Farming in Glenvista" report.</p>
        </footer>
    </main>

    <script>
        let currentSlide = {};

        function showSection(sectionId) {
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');

            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => button.classList.remove('active'));
            event.currentTarget.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function toggleExpandable(button, elementId) {
            const content = document.getElementById(elementId);
            const icon = button.querySelector('i');
            if (content.style.display === "block") {
                content.style.display = "none";
                button.classList.remove('open');
                icon.classList.remove('fa-chevron-up');
                icon.classList.add('fa-chevron-down');
            } else {
                content.style.display = "block";
                button.classList.add('open');
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-up');
            }
        }
        
        function setupCarousel(carouselId) {
            currentSlide[carouselId] = 0;
            const track = document.querySelector(`#${carouselId} .carousel-track`);
            const slides = Array.from(track.children);
            if (!slides.length) return;
            const slideWidth = slides[0].getBoundingClientRect().width;

            slides.forEach((slide, index) => {
                slide.style.left = slideWidth * index + 'px';
            });
            showCarouselSlide(carouselId);
        }

        function moveCarousel(carouselId, direction) {
            const track = document.querySelector(`#${carouselId} .carousel-track`);
            const slides = Array.from(track.children);
            if (!slides.length) return;
            const numSlides = slides.length;
            currentSlide[carouselId] = (currentSlide[carouselId] + direction + numSlides) % numSlides;
            showCarouselSlide(carouselId);
        }

        function showCarouselSlide(carouselId) {
            const track = document.querySelector(`#${carouselId} .carousel-track`);
             if (!track) return;
            const slides = Array.from(track.children);
            if (!slides.length) return;
            const slideWidth = slides[0].getBoundingClientRect().width;
            track.style.transform = 'translateX(-' + currentSlide[carouselId] * slideWidth + 'px)';
        }


        function calculateCosts() {
            const numDoes = parseFloat(document.getElementById('numDoes').value) || 0;
            const costPerDoe = parseFloat(document.getElementById('costPerDoe').value) || 0;
            const numBucks = parseFloat(document.getElementById('numBucks').value) || 0;
            const costPerBuck = parseFloat(document.getElementById('costPerBuck').value) || 0;
            const stockTotal = (numDoes * costPerDoe) + (numBucks * costPerBuck);
            document.getElementById('stockTotal').textContent = stockTotal.toFixed(2);

            const timberCost = parseFloat(document.getElementById('timberCost').value) || 0;
            const meshCost = parseFloat(document.getElementById('meshCost').value) || 0;
            const roofingCost = parseFloat(document.getElementById('roofingCost').value) || 0;
            const hardwareCost = parseFloat(document.getElementById('hardwareCost').value) || 0;
            const trayCost = parseFloat(document.getElementById('trayCost').value) || 0;
            const hutchTotal = timberCost + meshCost + roofingCost + hardwareCost + trayCost;
            document.getElementById('hutchTotal').textContent = hutchTotal.toFixed(2);
            
            const feedersCost = parseFloat(document.getElementById('feedersCost').value) || 0;
            const wateringCost = parseFloat(document.getElementById('wateringCost').value) || 0;
            const nestBoxCost = parseFloat(document.getElementById('nestBoxCost').value) || 0;
            const gearTotal = feedersCost + wateringCost + nestBoxCost;
            document.getElementById('gearTotal').textContent = gearTotal.toFixed(2);

            const grandTotalInvestment = stockTotal + hutchTotal + gearTotal;
            document.getElementById('grandTotalInvestment').textContent = grandTotalInvestment.toFixed(2);
        }

        function calculateOngoingCosts() {
            const pelletsKg = parseFloat(document.getElementById('pelletsKg').value) || 0;
            const pelletsCostPerKg = parseFloat(document.getElementById('pelletsCostPerKg').value) || 0;
            const monthlyPelletCost = pelletsKg * pelletsCostPerKg;
            document.getElementById('monthlyPelletCost').textContent = monthlyPelletCost.toFixed(2);

            const hayKg = parseFloat(document.getElementById('hayKg').value) || 0;
            const hayCostPerKg = parseFloat(document.getElementById('hayCostPerKg').value) || 0;
            const monthlyHayCost = hayKg * hayCostPerKg;
            document.getElementById('monthlyHayCost').textContent = monthlyHayCost.toFixed(2);

            const beddingCost = parseFloat(document.getElementById('beddingCost').value) || 0;
            const vetContingency = parseFloat(document.getElementById('vetContingency').value) || 0;
            
            const totalMonthlyOngoing = monthlyPelletCost + monthlyHayCost + beddingCost + vetContingency;
            document.getElementById('totalMonthlyOngoing').textContent = totalMonthlyOngoing.toFixed(2);
        }
        
        const nutritionalData = {
            labels: ['Rabbit', 'Chicken Breast (Skinless)', 'Beef (Lean Sirloin)', 'Pork (Lean Loin)'],
            datasets: [
                { label: 'Protein (g/100g)', data: [29.1, 31, 26, 26], backgroundColor: '#5A8B43', borderWidth: 1 },
                { label: 'Total Fat (g/100g)', data: [6.0, 3.6, 5, 3.5], backgroundColor: '#E57C23', borderWidth: 1 },
                { label: 'Cholesterol (mg/100g)', data: [57.5, 85, 92.25, 70], backgroundColor: '#8C6B4F', borderWidth: 1 }
            ]
        };
        const costData = {
            labels: ['Home Rabbit (est.)', 'Chicken (Checkers)', 'Chicken (Pick n Pay)', 'Chicken (Woolworths)'],
            datasets: [{
                label: 'Cost per kg (ZAR)', data: [57.97, 78.99, 79.99, 119.99],
                backgroundColor: ['#5A8B43', '#E57C23', '#8C6B4F', '#D4C3B2'], borderWidth: 1
            }]
        };
        
        function createCharts() {
            const chartOptions = {
                responsive: true, maintainAspectRatio: false,
                scales: { y: { beginAtZero: true, ticks: { color: '#4A3B31' }, grid: { color: '#EAE0D5'} }, x: { ticks: { color: '#4A3B31' }, grid: { display: false } } },
                plugins: { legend: { labels: { color: '#4A3B31' } }, title: { display: true, color: '#4A3B31' } }
            };
            
            const nutritionalCtx = document.getElementById('nutritionalComparisonChart')?.getContext('2d');
            if(nutritionalCtx) new Chart(nutritionalCtx, { type: 'bar', data: nutritionalData, options: {...chartOptions, plugins: {...chartOptions.plugins, title: {...chartOptions.plugins.title, text: 'Nutritional Comparison (per 100g raw)'}}} });

            const costCtx = document.getElementById('costComparisonChart')?.getContext('2d');
            if(costCtx) new Chart(costCtx, { type: 'bar', data: costData, options: {...chartOptions, plugins: {...chartOptions.plugins, title: {...chartOptions.plugins.title, text: 'Cost Comparison (per kg)'}}} });
        }

        function runRabbitrySimulation() {
            const numDoes = parseInt(document.getElementById('simNumDoes').value) || 0;
            const startDateInput = document.getElementById('simStartDate').value;
            const outputDiv = document.getElementById('simulationOutput');

            if (numDoes <= 0 || !startDateInput) {
                outputDiv.innerHTML = `<p class="text-red-600 font-semibold text-center">Please enter a valid number of does and a start date.</p>`;
                return;
            }

            const startDate = new Date(startDateInput);
            let currentDate = new Date(startDate);
            let simulationLog = `<h3><i class="fas fa-stream mr-2 text-purple-600"></i>Your Rabbitry Simulation Results:</h3>`;
            
            const addDays = (date, days) => {
                const result = new Date(date);
                result.setDate(result.getDate() + days);
                return result;
            };
            const formatDate = (date) => date.toLocaleDateString('en-ZA', { year: 'numeric', month: 'short', day: 'numeric' });

            simulationLog += `<div class="sim-output-card border-l-green-500"><h5><i class="fas fa-flag-checkered mr-1"></i>Project Start</h5><p>Rabbit Acquisition: ${formatDate(startDate)}</p></div>`;
            
            currentDate = addDays(startDate, 14); // Settling in
            simulationLog += `<div class="sim-output-card border-l-blue-500"><h5><i class="fas fa-heart mr-1"></i>First Breeding</h5><p>Approx. Breeding Date: ${formatDate(currentDate)} for ${numDoes} doe(s).</p></div>`;

            currentDate = addDays(currentDate, 31); // Gestation
            simulationLog += `<div class="sim-output-card border-l-pink-500"><h5><i class="fas fa-baby mr-1"></i>First Kindling (Births)</h5><p>Approx. Kindling Date: ${formatDate(currentDate)}.</p><p>Estimated Kits (avg. 7/doe): ${numDoes * 7} kits.</p></div>`;
            
            let firstHarvestDate = addDays(currentDate, 70); // 10 weeks to harvest from birth
            let firstWeaningDate = addDays(currentDate, 42); // 6 weeks to weaning

            simulationLog += `<div class="sim-output-card border-l-yellow-500"><h5><i class="fas fa-child mr-1"></i>First Weaning</h5><p>Approx. Weaning Date: ${formatDate(firstWeaningDate)}.</p></div>`;
            simulationLog += `<div class="sim-output-card border-l-orange-500"><h5><i class="fas fa-utensils mr-1"></i>First Harvest</h5><p>Approx. Harvest Date: ${formatDate(firstHarvestDate)}.</p><p>Ready for the plate! (Approx. ${numDoes * 7} fryers)</p></div>`;
            
            let rebreedDate = addDays(firstWeaningDate, 14); // Rebreed 2 weeks after weaning
            simulationLog += `<div class="sim-output-card border-l-blue-500"><h5><i class="fas fa-redo mr-1"></i>Second Breeding Cycle Starts</h5><p>Approx. Re-breeding Date for Does: ${formatDate(rebreedDate)}.</p></div>`;

            let secondKindlingDate = addDays(rebreedDate, 31);
            simulationLog += `<div class="sim-output-card border-l-pink-500"><h5><i class="fas fa-baby mr-1"></i>Second Kindling</h5><p>Approx. Kindling Date: ${formatDate(secondKindlingDate)}.</p></div>`;

            outputDiv.innerHTML = simulationLog;
        }

        let selectedOptions = {};

        function selectQuizOption(button, questionId) {
            const questionOptions = document.querySelectorAll(`#${questionId.split('_')[0]} .quiz-question button[onclick*="${questionId}"]`);
            questionOptions.forEach(opt => opt.classList.remove('selected'));
            button.classList.add('selected');
            selectedOptions[questionId] = button.dataset.answer;
        }

        function submitQuiz(quizId, correctAnswers) {
            let score = 0;
            let totalQuestions = Object.keys(correctAnswers).length;
            const feedbackDiv = document.getElementById(`${quizId}_feedback`);
            
            for (const questionKey in correctAnswers) {
                if (selectedOptions[questionKey] === correctAnswers[questionKey]) {
                    score++;
                }
            }

            let feedbackHTML = `<p class="font-semibold">You got ${score} out of ${totalQuestions} correct!</p>`;
            if (score === totalQuestions) {
                feedbackHTML += `<p class="mt-1"><i class="fas fa-star text-yellow-500 mr-1"></i>Excellent! You're a rabbit expert!</p>`;
                feedbackDiv.className = 'quiz-feedback correct';
            } else if (score >= totalQuestions / 2) {
                feedbackHTML += `<p class="mt-1"><i class="fas fa-thumbs-up text-green-500 mr-1"></i>Good job! Keep learning!</p>`;
                feedbackDiv.className = 'quiz-feedback correct';
            } else {
                feedbackHTML += `<p class="mt-1"><i class="fas fa-book-reader text-blue-500 mr-1"></i>Nice try! Review the guide to learn more.</p>`;
                feedbackDiv.className = 'quiz-feedback incorrect';
            }
            feedbackDiv.innerHTML = feedbackHTML;
            selectedOptions = {}; // Reset for next attempt if any
        }


        window.onload = () => {
            showSection('gettingStarted'); 
            calculateCosts();
            calculateOngoingCosts();
            createCharts();
            setupCarousel('breedCarousel');
            setupCarousel('diyCarousel');
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('simStartDate').value = today;
        };
        window.onresize = () => { // Re-setup carousels on resize for width calculation
            setupCarousel('breedCarousel');
            setupCarousel('diyCarousel');
        };
    </script>
</body>
</html>
